<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ARESXIONG</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="ARESXIONG">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="ARESXIONG">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ARESXIONG">
  
    <link rel="alternate" href="/atom.xml" title="ARESXIONG" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">ARESXIONG</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-android_event_bus_otto" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/16/android_event_bus_otto/" class="article-date">
  <time datetime="2015-12-16T09:06:29.000Z" itemprop="datePublished">2015-12-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/android/">android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/16/android_event_bus_otto/">Android事件总线之Otto</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Otto是一个在Android中的事件总线框架，它是square的一个开源框架，具体介绍<a href="http://square.github.io/otto/" target="_blank" rel="external">点击这里</a>，项目下载<a href="https://github.com/square/otto" target="_blank" rel="external">点击这里</a><br>官方说明：</p>
<blockquote>
<p>Otto is an event bus designed to decouple different parts of your application while still allowing them to communicate efficiently.<br>Forked from Guava, Otto adds unique functionality to an already refined event bus as well as specializing it to the Android platform.</p>
</blockquote>
<h2 id="为什么要使用Otto事件总线"><a href="#为什么要使用Otto事件总线" class="headerlink" title="为什么要使用Otto事件总线"></a>为什么要使用Otto事件总线</h2><p>通常来说在Android中：<br>1、Activity与Activity间的传值是通过Intent，值回调是通过startActivityForResult()<br>2、Activity与Fragment间的传值是通过setArguments，值回调是通过实现onAttach()的Interface方式<br>3、而Fragment与Fragment间的交互则应该是通过它们关联的Activity作为中间键来交互<br>4、包括Activity与Service的交互，可能众多同学会采用Binder机制来处理，而其实Binder机制本质也是通过接口回调方式来进行值回调的<br>5、或者在更复杂的应用场景下，比如：ActivityA跳转到ActivityB，ActivityB跳转到ActivityC，此时需要从ActivityC中获取到用户的操作数据返回到ActivityA和ActivityB中显示，或者在Activity中有多个Fragment，其中一个Fragment里的数据变化需要同步更新其它Fragment的数据变化，这时候如果使用Interface的方式进行它们间的交互则比较复杂，耦合度也高</p>
<p>所以，针对上面这些问题，大多数在处理值交互的问题上类之间都是耦合在一起的，而Otto事件总线框架就是降低各个类间的耦合度的。</p>
<h2 id="Otto事件总线"><a href="#Otto事件总线" class="headerlink" title="Otto事件总线"></a>Otto事件总线</h2><p>Otto中真正用到的就只有一个类两个注解三个方法：</p>
<ul>
<li>Bus - 管理注册、注销和发布事件</li>
<li>@Produce - 标记该方法是生产者，产生的事件内容为该方法的返回值</li>
<li>@Subscribe - 标记该方法是订阅者，表示订阅了一个事件，方法需要修饰符为public，而区分不同的订阅者是通过方法的参数来区分的，且订阅了某事件的所有订阅者都可以收到该事件</li>
<li>register(Object obj) - 注册，订阅事件前都需要注册</li>
<li>unregister(Object obj) - 注销，放弃之前所有事件的订阅</li>
<li>post(Object event) - 发布一个事件，这个事件会被所有标记了@Subscribe注解的方法获得</li>
</ul>
<h2 id="使用Otto事件总线"><a href="#使用Otto事件总线" class="headerlink" title="使用Otto事件总线"></a>使用Otto事件总线</h2><p>首先添加依赖：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">dependencies &#123;</div><div class="line"></div><div class="line">compile &apos;com.squareup:otto:+&apos;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>1、为了避免重复创建Bus对象，我们先为Bus创建一个单例对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">public class BusProvider &#123;</div><div class="line"></div><div class="line">private volatile static Bus bus = null;</div><div class="line"></div><div class="line">private BusProvider() &#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">public static Bus getInstance() &#123;</div><div class="line"></div><div class="line">if (bus == null) &#123;</div><div class="line"></div><div class="line">synchronized (BusProvider.class) &#123;</div><div class="line"></div><div class="line">bus = new Bus();</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">return bus;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>2、创建一个Bean，用来传递各类间的数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">public class EventData &#123;</div><div class="line"></div><div class="line">private String content;</div><div class="line"></div><div class="line">public String getContent() &#123;</div><div class="line"></div><div class="line">return content;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">public void setContent(String content) &#123;</div><div class="line"></div><div class="line">this.content = content;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>3、在MainActivity中注册并且创建订阅者订阅数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line">public class MainActivity extends AppCompatActivity &#123;</div><div class="line"></div><div class="line">@Override</div><div class="line"></div><div class="line">protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line"></div><div class="line">super.onCreate(savedInstanceState);</div><div class="line"></div><div class="line">setContentView(R.layout.activity_main);</div><div class="line"></div><div class="line">BusProvider.getInstance().register(this);//订阅事件</div><div class="line"></div><div class="line">Button mButton = (Button) findViewById(R.id.btn);</div><div class="line"></div><div class="line">mButton.setOnClickListener(new View.OnClickListener() &#123;</div><div class="line"></div><div class="line">@Override</div><div class="line"></div><div class="line">public void onClick(View v) &#123;</div><div class="line"></div><div class="line">TestActivity.jumpToTestActivity(MainActivity.this);</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">&#125;);</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">@Subscribe</div><div class="line"></div><div class="line">public void subscribeEvent(EventData data)&#123;</div><div class="line"></div><div class="line">Log.v(&quot;zxy&quot;, data.getContent());</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">@Override</div><div class="line"></div><div class="line">protected void onDestroy() &#123;</div><div class="line"></div><div class="line">super.onDestroy();</div><div class="line"></div><div class="line">BusProvider.getInstance().unregister(this);//注销订阅</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">public static void jumpToMainActivity(Context context)&#123;</div><div class="line"></div><div class="line">context.startActivity(new Intent(context,MainActivity.class));</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>4、在TestActivity中发布事件</p>
<p>发布事件有两种方法：</p>
<p>(1)使用@Produce注解来生产事件，不过它生产事件前它需要注册、生产完事件后需要注销，如果使用这种方法则在跳转到生产者所在的类中则会立即产生事件触发订阅者，即在MainActivity跳转到TestActivity时，会立即产生事件并订阅了该事件的方法会收到该事件，如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">public class TestActivity extends AppCompatActivity &#123;</div><div class="line"></div><div class="line">@Override</div><div class="line"></div><div class="line">protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line"></div><div class="line">super.onCreate(savedInstanceState);</div><div class="line"></div><div class="line">setContentView(R.layout.activity_test);</div><div class="line"></div><div class="line">BusProvider.getInstance().register(this);</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">@Produce</div><div class="line"></div><div class="line">public EventData produceEvent()&#123;</div><div class="line"></div><div class="line">EventData mEventData = new EventData();</div><div class="line"></div><div class="line">mEventData.setContent(&quot;hello word!&quot;);</div><div class="line"></div><div class="line">return mEventData;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">@Override</div><div class="line"></div><div class="line">protected void onDestroy() &#123;</div><div class="line"></div><div class="line">super.onDestroy();</div><div class="line"></div><div class="line">BusProvider.getInstance().unregister(this);</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">public static void jumpToTestActivity(Context context)&#123;</div><div class="line"></div><div class="line">context.startActivity(new Intent(context, TestActivity.class));</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>则在MainActivity跳转到TestActivity时订阅者会马上收到事件，输出的Log信息为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">09-06 03:46:16.738 5958-5958/? V/zxy﹕ hello word!</div></pre></td></tr></table></figure>
<p>则在MainActivity跳转到TestActivity时订阅者会马上收到事件，输出的Log信息为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">09-06 03:46:16.738 5958-5958/? V/zxy﹕ hello word!</div></pre></td></tr></table></figure>
<p>(2)通过post()来发布事件，它不需要注册和注销，而且它不会在界面跳转时马上发布事件，而是我们人为的控制该事件什么时候发布，使用如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">public class TestActivity extends AppCompatActivity &#123;</div><div class="line"></div><div class="line">@Override</div><div class="line"></div><div class="line">protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line"></div><div class="line">super.onCreate(savedInstanceState);</div><div class="line"></div><div class="line">setContentView(R.layout.activity_test);</div><div class="line"></div><div class="line">BusProvider.getInstance().register(this);</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">@Produce</div><div class="line"></div><div class="line">public EventData produceEvent()&#123;</div><div class="line"></div><div class="line">EventData mEventData = new EventData();</div><div class="line"></div><div class="line">mEventData.setContent(&quot;hello word!&quot;);</div><div class="line"></div><div class="line">return mEventData;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">@Override</div><div class="line"></div><div class="line">protected void onDestroy() &#123;</div><div class="line"></div><div class="line">super.onDestroy();</div><div class="line"></div><div class="line">BusProvider.getInstance().unregister(this);</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">public static void jumpToTestActivity(Context context)&#123;</div><div class="line"></div><div class="line">context.startActivity(new Intent(context, TestActivity.class));</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当我们点击按钮时候，这个事件就发布出去了，而订阅了该事件的方法就会收到，打印的Log为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">09-06 03:46:18.738 5958-5958/? V/zxy﹕ hello word!</div></pre></td></tr></table></figure>
<p>【注】：发布事件需要发布的是一个Object对象，而且这个对象不能为null，所以在数据量大的时候我们可以创建个Bean类，而传当个数据时候如字符串等则直接传String就好。</p>
<p>可以看到通过Otto事件总线来处理类与类之间的交互，可以使得我们的代码更容易理解，类与类之间也解耦了。</p>
<h2 id="相关文档扩展"><a href="#相关文档扩展" class="headerlink" title="相关文档扩展"></a>相关文档扩展</h2><p>可以查看另一篇介绍EventBus的事件总线框架:<a href="http://aresxiong.com/2015/11/10/android_eventbus/" target="_blank" rel="external">Android事件总线之EventBus</a></p>
<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul>
<li><a href="http://square.github.io/otto/" target="_blank" rel="external">Otto官网</a></li>
<li><a href="https://github.com/square/otto" target="_blank" rel="external">Github/Otto</a></li>
<li><a href="http://android.jobbole.com/82217/" target="_blank" rel="external">Otto事件总线框架的使用</a></li>
<li><a href="http://itindex.net/detail/50349-android-otto-%E6%A1%86%E6%9E%B6" target="_blank" rel="external">Android Otto框架浅析</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/16/android_event_bus_otto/" data-id="cj4zxopmy001lq4nh905sn45v" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/otto/">otto</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-reading_note_myMarketingTips_shiyuzhu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/15/reading_note_myMarketingTips_shiyuzhu/" class="article-date">
  <time datetime="2015-12-15T10:51:29.000Z" itemprop="datePublished">2015-12-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/reading/">reading</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/15/reading_note_myMarketingTips_shiyuzhu/">读书笔记：我的营销心得</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第一章：脑白金的广告为何打了10年？"><a href="#第一章：脑白金的广告为何打了10年？" class="headerlink" title="第一章：脑白金的广告为何打了10年？"></a>第一章：脑白金的广告为何打了10年？</h2><p><strong> 1.脑白金如何找到自己的消费者？</strong><br>营销最核心的是要了解你要销给谁。<br>卖脑白金要对老头老太的儿子女儿说。</p>
<ul>
<li>定位：送礼</li>
<li>方式：病句容易让人记住；广告最怕变，积累不能丢。（今年过节不收礼，收礼还收老白金用了十三四年）</li>
</ul>
<p><strong> 2.广告是对消费者大脑的投资</strong><br>广告其实是持续性投资，而且广告能不变就不变。<br>做广告定位的准确比广告形式更重要。<br>最好的广告就是推销产品，很少的公司才需要形象广告。（当时花了5000万做广告效果其实并不好）</p>
<p><strong> 3.广告营销是否需要公司一把手来抓？</strong><br>视具体情况而定，研发驱动型的就可以不抓，营销驱动型就需要一把手来抓。但广告是绝大部分公司的命脉。（纲举目张）<br>90%的企业是营销驱动型的，研发驱动型的公司就应该抓技术。九成以上消费品类的企业，命脉就在营销上面，而营销的命脉又在广告上面。</p>
<p><strong> 4.广告创意为什么不能完全交给广告公司做</strong><br>广告创意需要最了解产品的人来做。（广告公司是以表现他们的技能为第一要义）<br>让广告公司搞创意，十个估计十个要瞎。做广告，一定是对自己的产品最了解的人，对你的消费者体会最深刻的人，才能做好。<br>广告的创意是我做，基本的文案是我做，拍摄画面不是我，我不懂，这个我外行。</p>
<p><strong> 5.如何看待脑白金广告被评为十差广告之首？</strong><br>最佳广告，第二年就死掉，最差广告，10年后还活着。<br>“送礼”=“脑白金”，广告规定了消费方式。（超过七成是子女送的）。脑白金广告被评为最差是因为广告大家印象深刻，播放频次很高。<br>其实大家对广告，内心都是抵制的，被迫的。</p>
<p><strong> 6.脑白金为啥选卡通人物做广告？</strong><br>广告语一直没变，广告形式变一变。<br>名气太大，被法律的涉嫌条款所套，偶然选了卡通形象。</p>
<p><strong> 7.脑白金广告的投放策略是怎样的？</strong><br>广告播放，研究怎么给消费者留下深刻印象。<br>广告播放的量，该大的时候要充分大，能大到多少是多少。不需要的时候别播，需要的时候猛砸。<br>要播广告，至少坚持一年。播的少，钱就浪费了，就想烧水中途把柴撤了，之前烧的柴也浪费了。<br>隔天播费用下降50%，但是效果不会下降50%。（播放频率脉冲—隔天隔月隔季度播）。<br>2/3以上的消费品多少都带有季节性，所以尽量在销售旺季去播广告。（脑白金春节的销量占全年销量的50%，两个高峰期：春节和中秋）</p>
<h2 id="第二章：如何做出最有效的广告？"><a href="#第二章：如何做出最有效的广告？" class="headerlink" title="第二章：如何做出最有效的广告？"></a>第二章：如何做出最有效的广告？</h2><p><strong> 1.怎样选择广告投放的媒体？</strong><br>调研：乡镇一级，中央电视台占绝对优势，脑白金是全国性的，以三线城市为主，所以央视就是主要的渠道。（结论：城市越大，看央视的越少，城市越小，看央视的越多。）<br>人口金字塔，北上广，城市最大，人口占比最小。越下面的城市越赚钱，成本越小。做北上广也是为了辐射周边地区。<br>获得便宜的广告资源（冠名的方式：有谈判的余地）</p>
<p><strong> 2.如何降低广告费成本？</strong><br>地方台有议价的余地。而且80%的广告是卖不掉的，花1%或者0.5%来买这些卖不掉的广告（时间）。<br>地方台最初付刊例价的20%，后来事实是3%也能拿下来。<br>广告与销售挂钩，销售额直接对应广告预算。地方经理谈不下来，第一年罚款，第二年免职。<br>广告要海陆空全面覆盖。（央视地方台是空军，商场促销是地面部队，海报是海军）甚至农村猪圈，工厂围墙，铁路两面的墙都打广告，因为成本低，向保健品企业三株学的。</p>
<p><strong> 3.广告广泛传播前要经过检验</strong><br>新品上市要告诉消费者相对多的信息。刚入市场，报纸广告多于电视广告，之后电视广告多于报纸广告，甚至停掉报纸广告（报纸广告承载信息量更大）。<br>营销没有教科书，要靠自己摸索体会。看教科书学到的是零，听有经验的人讲可以学到5%-10%。<br>好广告是改出来的。<br>试销很重要，不要怕因此延误了时间，这对公司而言是更安全。广告跟踪3到6个月，消费者一线反馈然后做调整。除了主广告语，其他应该要改的就要改。</p>
<p>最好的策划导师是消费者。（固定指标的消费者访谈）最后上不上我有否决权，但是没有同意权。<br>消费品公司都应该了解消费者，消费者访谈要确保是真实记录。<br>能让人记住的广告就是，特点就是不停的重复。广告效果好，投入力度够，很容易就会拉起销量。<br>选消费力高，成本低的地方试销。（浙江，江苏的县级城市）<br>公司评十佳，也要评十差。赏罚要分明。</p>
<p><strong> 4.明星效应对对广告作用有多大？</strong><br>明星代言没有用：消费者厌恶广告，如果他们喜欢明星，注意力也不会在产品身上。据自己研究，没有充分证据说明明星可以增加销量。<br>栏目冠名要看具体情况，看目标消费群体。冠名只能打知名度，不能提高产品认知。</p>
<h2 id="第三章-如何成功管理多远业务的企业"><a href="#第三章-如何成功管理多远业务的企业" class="headerlink" title="第三章 如何成功管理多远业务的企业"></a>第三章 如何成功管理多远业务的企业</h2><p><strong> 1.我如何管理多元化的业务</strong><br>毛泽东思想中的哲学和方法论在管理企业上依旧有用。集中优势兵力。（5倍于敌人的时候进攻，10倍于敌人的时候围城）<br>同一个时间，我一定只管一件事情。<br>史玉柱虽然同时做了保健品，网游和金融投资，但会放权，同一时间只打理一件事情。</p>
<p><strong> 2.我为什么进军网络游戏产业？</strong><br>保健品空间不大。自己喜欢玩游戏，玩着玩着自己就想做一个公司。</p>
<p><strong> 3.网游行业的盈利模式是怎样找到的？</strong><br>A.网游商业模式是试出来的。<br>好游戏是改出来的。（精益创业的思想）公司成立到纽交所上市只用了3年。方法出来后要不断的测，不断的修正，心血浇灌才能出好广告。<br>连续两年，每天15小时地去玩游戏，有不好的地方就把开发人员叫过来修改。（注：不一定真实，人总喜欢吹牛逼。）<br>游戏是战争，是打架，要是没人玩了，有钱人去打谁？正确的方式是：让没有钱的人花时间，有钱的人花钱。</p>
<p>B.让游戏玩家有荣耀感。</p>
<p>C.让有钱人为游戏中的好友花钱。<br>游戏也是一个社会。（现实中的关系伦理道德感在游戏中一样适用。）</p>
<p>D.让男玩家为游戏中喜欢的女玩家花钱。<br>情人节，游戏里卖花就卖了5000万。（成本几乎为0）</p>
<p>E.网游世界的定价方法。<br>定价怎么定？首先不能让消费者觉得贵，要让他能接受。但是上不封顶。花1000块钱为刀镶钻，和花1块钱，千分之一的几率给刀镶钻的机制和思路。</p>
<p>F.只要面向消费者的生意都要研究消费者。<br>这种消费心理，靠试错。</p>
<p><strong> 4.网络游戏的营销如何进行</strong><br>网游营销靠口碑。<br>爱网游戏的人，通过传统广告是打不开的。顶多在网站上打打广告，主要靠口碑。<br>所以游戏的核心是好玩。</p>
<p><strong> 5.我为什么看好民生银行的投资</strong><br>A.10年之后的银行会很值钱。(我适合创业，不适合守业)<br>研究宏观经济形势，觉得未来10年，银行和保险会很值钱。<br>银行里面，民生银行是唯一真正民营的银行。而且服务态度好，有狼性。小微企业贷款它的业务最大，因为大银行不愿意做。小微贷款实际风险很低，因为跑路不值得。</p>
<p>B.民生银行的核心竞争力：打通产业链。<br>结算不能和其他银行有业务往来。上下游客户全都是民生银行的。而其他银行做不了，因为打通一个产业年少则两年。<br>员工收入高的金融机构投资价值很大。（平安保险）</p>
<p>C.不了解的，研究不够的不投钱。</p>
<p><strong> 6.如何评价教科书中的营销理论</strong><br>实事求是，自己多花时间去检验。<br>早起的营销理论是广告公司瞎编的，用各种衡量指标骗客户多花钱。实践是检验真理的唯一标准，靠教科书是不靠谱的。</p>
<p><strong> 7.创业应该注意哪些</strong><br>创业，最好主攻一个方向。<br>民主决策后要坚定地执行。公司管理，尽量走民主集中这条路。<br>营销驱动型公司，老板要亲自抓营销。<br>用人心得：又红又专。红是人品，专是能力。然后是充分授权。</p>
<p><strong> 8.企业如何从失败中爬起来</strong><br>只要有团队和产品，失败后也能再爬起来。</p>
<p><strong> 9.怎样跟媒体打交道</strong><br>跟媒体尽量保持距离。能不接触就不接触。</p>
<p><strong> 10.对创业者的寄语</strong><br>每一份成功都是心血浇灌。</p>
<h2 id="第四章-我对产品策划和策略的认识"><a href="#第四章-我对产品策划和策略的认识" class="headerlink" title="第四章 我对产品策划和策略的认识"></a>第四章 我对产品策划和策略的认识</h2><p><strong> 1.如何做好一个产品</strong><br>决策失误是最大的成本。<br>做好一个产品要过产品关，策划关，团队和管理关。</p>
<p><strong> 2.巨人创建以来的产品和策划</strong></p>
<ul>
<li>创业起步产品—桌面排版系统。《计算机世界》打了三次广告，销量100多万。</li>
<li>巨人汉卡（桌面印刷系统）</li>
<li>GAC电脑（整体上是失败的）</li>
<li>脑黄金</li>
<li>三大战役（巨人大行动，失败）</li>
<li>巨人大厦</li>
<li>巨不肥（启动好，收尾不了了之）</li>
<li>脑白金：名字很重要，可以减掉很多工作量。对于消费者而言，往往首先跳入眼帘的就是他要买的。</li>
</ul>
<h2 id="第五章-我对网络游戏策划的体会"><a href="#第五章-我对网络游戏策划的体会" class="headerlink" title="第五章 我对网络游戏策划的体会"></a>第五章 我对网络游戏策划的体会</h2><p><strong> 1.策划在网游行业的地位</strong><br>MMORPG类游戏（角色扮演类）<br>网游最重要的是游戏性。<br>技术是建筑的砖瓦，策划则是装修。</p>
<p><strong> 2.玩家需要的8字方针</strong></p>
<ul>
<li>荣耀</li>
<li>目标</li>
<li>互动</li>
<li>惊喜<br>（其实懂人性的需求，就不难理解游戏中人想要的东西。可以参考马斯洛层次需求理论）<br>荣耀是玩家的第一需求（自我实现）。<br>对玩家而言，在任何一个时间节点上都应该有目标，而且是短中长期目标共存。目标管理是关系游戏成败的关键。</li>
<li>A.策划要站在玩家的角度去做事，为对方设定目标的时候，要通过各种方式来了解玩家的需求。</li>
<li>B.一个目标的完成，新的目标要随着马上确立，不能有断档。</li>
<li>C.通过压力制造出目标的价值。</li>
</ul>
<p>单击和网游最大的区别在于互动。友情的需求仅次于荣耀的需求，其次要引导这种需求。另外仇恨也是一种互动。多制造群体，国与国，帮派与帮派间的仇恨。<br>游戏中爱与恨的处理。<br>人人互动将成为以后网游的方向。（如开心消消乐和微信运动都有互动的成分，而且是非常重要的部分。）<br>除了横向互动，也需要有纵向的互动，比如师徒系统。玩家最相信的是朋友而不是厂家的广告。</p>
<p>惊喜就是随机性，没有随机性，网游就没有耐玩性，没有随机性，就没有游戏。<br>运气和努力都很重要，不可偏废。</p>
<p><strong> 3.任何游戏都要闯印象关，尝试关和无聊关</strong><br>印象关<br>玩家首先在乎的是图，其次是否容易上手，第三是音效，人气等。半年后的玩家在乎的数值。资源有限时，美术资源要往前面塞。<br>上手和美术在一个游戏的前15分钟非常重要，决定了一个玩家的去留。</p>
<p>尝试关<br>尝试阶段玩家最注重的是游戏细节。<br>有两点很重要，树立目标和融入社区。这个阶段玩家能留下40%是相当不错的。</p>
<p>无聊关<br>前两个是工作量的问题，但这一关是策划水平的问题。<br>游戏要成功就是要闯过无聊关，让玩家充实，有事情做。玩法要多，玩法要好玩。<br>不无聊有两个方面可以有帮助：随机性和互动性。</p>
<p><strong> 4.游戏策划方面如何管理</strong><br>二次策划<br>策划流程：拍脑袋—-写文档—-美术程序实现—-调试—-分测区<br>策划推到分测区后，工作并没有真正完成，而是完成了三成，后面的工作称为二次策划。分测区是和玩家的第一次见面，所以策划才开始。<br>好游戏是改出来的。测试前慢不得，测试后快不得。（实践是检验真理的唯一标准）<br>二次策划的时间和精力远远超过第一次策划。</p>
<p>细节<br>一把手要抓细节。细节是具体的战术。让细节为王落实到行动中来。<br>《征途》成功，但是《巨人》却失败，细节占了很大一部分。</p>
<p>责任人制度<br>一次策划，二次策划，最后收尾的奖罚都应该一个人负责。</p>
<p>定量管理<br>对玩家的绝大多数行为要进行统计，行为分析表。要由过去的定性管理向定量管理过渡。</p>
<p>策划人必须是游戏的狂热分子，第一因素不是智商，而是情商，第二是勤奋。情商主要是指能站在别人的立场上考虑问题（同理心）。另外就是领导能力。</p>
<p><strong> 5.如何处理游戏里的几大关系</strong><br>简单与复杂的关系<br>真简单，看似简单；真复杂，看似复杂的四种组合。一个游戏功能最好的结果是看似简单，其实复杂。（复杂表示有内容和深度，但它又经由简单来承载或说表现）</p>
<p>疗效和副作用<br>这两者关系的处理取决一个人的逻辑思维能力。任何一个游戏的功能都有正和反两个方面的影响。</p>
<p>累和无事可做<br>过程好玩，玩家是不会觉得累的。过程不好玩，没有体现出荣耀，随机，互动和目标这四点就会产生矛盾。</p>
<p>RMB玩家和非RMB玩家<br>这两者之间也是矛盾的。需要把握尺寸和度。不然会导致一方玩家的流失。<br>要解决好RMB玩家荣耀问题和非RMB玩家之间的互动问题。</p>
<p>短期收益和长期收益<br>应该追求长期利益，尤其是新项目。我一直反对降价销售，脑白金11年从没降过价。<br>游戏上，降价等于自杀。所以要重视长期利益，考核上也尽量不要看短期利益。</p>
<p>打钱公司和玩家小号养大号问题<br>打钱公司要坚决打击，但是玩家小号养大号要睁一只眼，闭一只眼。打钱公司一般都是一台电脑通过外挂跑几千上万个号，但是小号养大号不会，要加以区别和判断。</p>
<p>货币回笼和通货膨胀问题<br>一款游戏最理想状态是没有通货膨胀也没有通货紧缩，但是是做不到的，只能在一个区间波动。膨胀会导致游戏死掉，但是紧缩没有这么严重，最多是玩家抗议，但一般不会走掉。<br>设计经济系统的时候，货币回笼的强度要远远大于货币产出，至少要5倍以上，才能保证通货的平衡。但是货币回笼的难度是非常大的。（游戏货币）</p>
<p>抄袭与卓越的问题<br>抄不但要脸皮厚，而且要发展和优化。<br>游戏的故事背景并不是很重要，要让位于游戏性。</p>
<p>压力与价值<br>价值是压力压出来的，没有压力就没有价值。（轻易得来的东西，价值认同是很低的。）</p>
<h2 id="第六章-我的经验和教训"><a href="#第六章-我的经验和教训" class="headerlink" title="第六章 我的经验和教训"></a>第六章 我的经验和教训</h2><p><strong> 1.我的创业历程</strong><br>一个企业必须在这个行业里形成核心竞争力，如果搞多元化，你就无法形成核心竞争力。<br>巨人在汉卡成功后跨行业做了保健品，化妆品，硬件，房地产，服装等。最后就只有保健品中的脑黄金是赚钱的。<br>“大跃进”式的百亿计划。<br>想通过巨人大厦来缓解资金危机，但相反被套进去。最后专心做产品才得以有转机。决定做脑白金的时候，个人负债2.5个亿，但是很充实，因为没有钱。<br>找朋友借了50万，25万做产品，15万做了江阴的广告，然后赚钱后转战无锡，南京，常州，金陵，上海，浙江。用了一年零六个月启动全国市场。（北京和广东没有启动起来）<br>赚钱后，还了两亿多的债务，虽然从法律的角度来说是可以不还的，但是还是还了。团队心态，包括我本人，变化很大。然后定了一个纪律：不要做超出自己能力的事，没有把握的事不要做。<br>不追求高速度，只追求一步一个脚印往前走。巨人负债时高达80%，后来规定5是绿灯，10是黄灯，15是红灯。</p>
<ul>
<li>第一件事：还债（用了四年）</li>
<li>第二件事：投资（银行，游戏）</li>
</ul>
<p>做游戏的时候，财务审计：一不准偷税漏税，二不准欠税。</p>
<p>战略上藐视敌人，战术上要重视敌人。</p>
<blockquote>
<p>王石:不该你赚的钱你赚了，以后会加倍吐出来。<br>年轻人创业，从第一天起就要规范。</p>
</blockquote>
<p>搞营销，只有一个词，唯一的一个词，就是你的消费者。你要想找老师的话，就找你的消费者。</p>
<p>团队核心人物需要有的特质：</p>
<ul>
<li>是否大度</li>
<li>对人是否真诚<br>（非常实在，也非常重要的特质。对于一个团队的凝聚尤其重要。）</li>
</ul>
<p>关于团队：</p>
<ul>
<li>1.老板要正，不然团队肯定垮掉。<br>员工跟你干为的是钱，所以该给的要给，有贡献要给特殊收益。</li>
<li>2.创造一个他可以实现个人价值的环境。</li>
</ul>
<p><strong> 2.我的失误和教训</strong><br>投资的失误</p>
<ul>
<li>要投朝阳产业</li>
<li>要投熟悉的业务</li>
<li>你的团队具备这种能力</li>
<li>发现苗头不对要当机立断</li>
</ul>
<p>资本结构不合理</p>
<ul>
<li>流动性很差</li>
</ul>
<p>管理不规范</p>
<ul>
<li>权责匹配</li>
<li>贷款把控</li>
<li>管理有抓有放</li>
</ul>
<p>企业文化流于形式，不适用</p>
<ul>
<li>说到做不到</li>
<li>不敢承担责任</li>
<li>对别人要求高，对自己要求低</li>
<li>喜欢强调困难，没有功劳有苦劳</li>
<li>好的时候大手大脚，浪费严重</li>
</ul>
<p>巨人企业文化：说到做到，只认功劳，严己宽人，敢担责任，艰苦奋斗。</p>
<p><strong> 3.我是赌徒的反面，胆子最小</strong><br>公司员工在公司成功后没有了创业激情，注册子公司，然后让员工掏钱占股49%。要是亏了，公司亏51%，员工亏49%，重燃创业激情。</p>
<p>网络游戏得非人民币玩家者得天下</p>
<p>一个时期只做一件事</p>
<ul>
<li>泰山产业研究院</li>
<li>金鼎俱乐部</li>
</ul>
<p><strong> 4.我的失败教训最值钱</strong><br>成功时总结的经验是歪歪曲曲的，但是失败时的经验教训是最值钱的。</p>
<p>营销的基础一定是好产品</p>
<h2 id="民营企业如何在逆境中成长"><a href="#民营企业如何在逆境中成长" class="headerlink" title="民营企业如何在逆境中成长"></a>民营企业如何在逆境中成长</h2><p><strong> 1.逆境的三个好处</strong></p>
<ul>
<li>逆境中成长最快</li>
<li>逆境中做事比较冷静</li>
<li>逆境中企业负责人过的更舒服（高处不胜寒，逆境心情容易调整）</li>
</ul>
<p><strong> 2.巨人在逆境中是如何做的</strong><br>广告的唯一衡量标准就是对于产品销量的作用<br>巨人起来的最重要的原因是在低谷时冷静思考总结自己的错误，失误和不足加以改正。</p>
<p><strong> 3.如何从低谷中站起来</strong></p>
<ul>
<li>不灰心</li>
<li>果断放弃</li>
<li>重新起步要选择自己熟悉的行业</li>
<li>聚焦聚焦再聚焦</li>
<li>在低谷时及时总结<blockquote>
<p>曾经请管理学博士和很多MBA指定的公司管理制度并不实用，反而是在低谷时自己总结的规定很实用。</p>
</blockquote>
</li>
</ul>
<p><strong> 4.巨人的企业战略</strong><br>第一我们不制定远大的目标，但是在战术上要把每一件事做好，做到最好。<br>第二是主营业务要少。并指定规则加以限制。</p>
<p>第三是选项目：动作越少越好。（不同产品的生命周期）</p>
<p>第四人才的战略问题：<br>巨人不用空降部队。人才和环境是相关的，不同行业转换后人才就不是人才，即使是同一个行业，也有各自的文化特征。从心理学的角度来说，就因为一个人不是人才，他才心里不踏实，需要不断通过说自己是人才来弥补心理上的问题。真正的人才很少说“我很能干”。<br>对干部充分授权。让最了解情况的人有决策权。<br>多引进战术人才，少引进战略人才。往往水平不高的人才自封战略家，因为那些东西是看不见，摸不着，没办法证实的。但战术问题就不一样，做的出就是行，做不出就是不行。<br>利益机制要协调好。<br>企业倒下，大部分是做了不该做的事。</p>
<h2 id="第八章-在中国如何做企业"><a href="#第八章-在中国如何做企业" class="headerlink" title="第八章 在中国如何做企业"></a>第八章 在中国如何做企业</h2><p><strong> 1.在中国做企业，还是低调一点比较好</strong></p>
<blockquote>
<p>马云是一个战略家，而我是一个具体干事的人。他能看到未来五年，而且看的很准，我最多能看一年。这个差距就出来了。<br>说到做到是企业文化第一条。</p>
</blockquote>
<p>做保健品的两个关键：第一产品真正有效，第二是效果消费者能感受到，可以形成口碑。<br>产品名字要通俗易懂，广告只是引子的作用。</p>
<p>做自己喜欢做的事。</p>
<p>未来创业者的两大素质：第一是悟性。第二是勤奋吃苦。缺一不可，都具备就成功了大半。</p>
<p><strong> 2.企业只认功劳，不认苦劳</strong><br>具体操作的规定要简单明了。比如脑白金就如何摆放的规定：商店摆放不得少于3盒，高度不得低于1.5米，不得高于1.8米。<br>科学的企业管理制度，服务于企业文化。这两点很重要。</p>
<p><strong> 3.企业家一定是坏人</strong><br>没有绝对的所谓好人坏人，对于企业家背上坏人的名声固然不好，但是相对会轻松很多。别人说你是坏人，但你不能做坏事，而是要力求多做好事。</p>
<p><strong> 4.民营企业的十三种死法</strong></p>
<ul>
<li>1.不正当竞争</li>
<li>2.碰到恶意消费者</li>
<li>3.媒体的围剿</li>
<li>4.媒体对产品的不客观报道</li>
<li>5.主管部门把企业搞死</li>
<li>6.法律制度上的弹性</li>
<li>7.被骗</li>
<li>8.“红眼病”的威胁（最怕产品的谣言）</li>
<li>9.黑社会敲诈</li>
<li>10.得罪有权力官员</li>
<li>11.得罪莫一恶势力</li>
<li>12.遭遇造假</li>
<li>13.企业家的自身安全问题</li>
</ul>
<h2 id="我对创新和市场竞争的看法"><a href="#我对创新和市场竞争的看法" class="headerlink" title="我对创新和市场竞争的看法"></a>我对创新和市场竞争的看法</h2><p><strong> 1.我对创新的理解</strong><br>创新要从实际出发，以企业实力为基础。</p>
<ul>
<li>削减成本创新</li>
<li>产品创新</li>
<li>营销创新</li>
</ul>
<p><strong> 2.我对市场竞争的体会</strong><br>市场充分竞争阶段，是市场拉动研发<br>市场和竞争都要从消费者的需求出发<br>市场竞争归根结底是人才的竞争（找人，培养人，用好人）<br>产品生命周期可以通过努力来解决。</p>
<p><strong> 3.只说产品的一个好处才能被记住</strong><br><strong> 4.除了保健品，银行和互联网，其他行业我基本不碰</strong></p>
<blockquote>
<p>李嘉诚：投资首先看退出机制通畅不通畅，其次看收益高不高。<br>清晰的盈利模式意味着稳定的收入预期和投资回报。<br>无论投资还是创业，核心因素都是人。</p>
</blockquote>
<h2 id="第十章-我的微博记录"><a href="#第十章-我的微博记录" class="headerlink" title="第十章 我的微博记录"></a>第十章 我的微博记录</h2><p>1.人生心得<br>何为富贵？勿须向别人折腰，则为贵。勿须向别人伸手，则为富。</p>
<p>2.企业经营<br>赞成郭光头的“孙子论”</p>
<p>3.股票金融<br>金融业最有前途的是保险。</p>
<p>4.政治民生</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/15/reading_note_myMarketingTips_shiyuzhu/" data-id="cj4zxoppq005uq4nho3t2qlyw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/史玉柱/">史玉柱</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android_application_security" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/15/android_application_security/" class="article-date">
  <time datetime="2015-12-15T03:03:22.000Z" itemprop="datePublished">2015-12-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/android/">android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/15/android_application_security/">开发安全的android应用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>安卓应用已经广泛用于处理非常敏感的信息。保证用户的信息不被居心叵测的人轻易截获是每个Android开发者的责任。“开放网络应用安全项目“ (The Open Web Application Security Project )(OWASP) (引用<a href="https://www.owasp.org/index.php/OWASP_Mobile_Security_Project#tab=Top_10_Mobile_Risks" target="_blank" rel="external">9</a>, 引用<a href="https://www.owasp.org/index.php/About_OWASP" target="_blank" rel="external">10</a>) 试图列举移动应用的安全风险。有些是系统架构的责任（比如由于服务器缺陷产生的问题），有些与后端开发者有关（比如认证检查等），还有些则与移动开发者有关。这篇文章，我们将会关注与Android开发者相关的那些问题。</p>
<p>因此，我们将会再次讨论三个潜在的风险源头：</p>
<ul>
<li>与WebService通信的风险</li>
<li>存储在设备上的信息被泄漏的风险</li>
<li>我们的应用被第三方修改的风险</li>
</ul>
<h2 id="安全的WebService请求"><a href="#安全的WebService请求" class="headerlink" title="安全的WebService请求"></a>安全的WebService请求</h2><p>在使用WS请求的敏感应用中，最重要的事情是确保与后端通信的数据的安全性。事实上，就算应用本身是安全的，但其通过Internet发送的请求能被轻易截获，那也是没有用的。</p>
<p><strong> 威胁 : 中间人攻击 (MITM)</strong></p>
<p>当一个应用被中间人攻击时，将会产生两个主要的风险。</p>
<ul>
<li><p>信息泄露<br>如果一个攻击者可以控制用户使用应用的本地网络，他就可以偷偷的轻易截获这个应用和WebService之间通信的所有内容。</p>
</li>
<li><p>Webservice (WS) 模仿<br>对于了解WS格式的攻击者，则可以阻止应用程序的正常请求并为应用程序提供假的返回值。在这种情况下，用户以为请求已经正常执行了，然而请求却从未到达后端。<br>测试你的应用是否能被中间人轻易攻击非常容易。你只需要用一个代理服务器软件， (如：CharlesProxy （引用<a href="https://www.charlesproxy.com/" target="_blank" rel="external">12</a>），然后将测试设备的代理服务器设置为安装了这个软件的电脑上。如果你的应用没有做针对MITM的保护，你将会很容易看到你的App发起的每一个请求（的内容）。现在，假设有一个你的App的用户通过一个不安全的网络去连接WebServices，攻击者可以轻易在路由上安装一个这样的代理软件，它将会清楚的嗅探到所有的请求。</p>
</li>
</ul>
<p><strong> 攻击的起源：TLS/SSL证书链</strong></p>
<p>确保通信安全，最起码要使用HTTPS协议，例如使用TLS的加密通信或者其前身SSL加密。同时，如果条件允许，这并不是我们的系统需要遵守的唯一约束。想弄明白原因，我们需要先来看看SSL协议的工作原理。</p>
<p>一组SSL证书至少包括下面三个证书</p>
<ul>
<li>根证书（Root certificate）. 是由证书授权机构(Certification Authority ，CA)签发的证书。证书授权机构是一个能够确保整个传输过程安全的一个可信机构。</li>
<li>中间证书（Intermediate certificate(s)）.  中间证书可以有多个。它是最终用户证书和跟证书的链路。该证书专门用于服务器发布WS服务，该证书由根证书签发。</li>
<li>最终用户证书（End-user certificate）.  最终用户证书可以用于与WebService服务器通信。</li>
</ul>
<p><strong> Android 原生的SSL保护</strong><br>Android网络层有嵌入了一些CA证书的列表（有一百多个，你可以在设备的设置菜单查看）。每一个HTTPS请求的证书链的根证书，都必须是其中之一。</p>
<p>然而，与服务器通信过程的请求链中的其他证书的安全性，仍然无法确认。恶意用户还是可以通过向CA买一个中间证书来实现中间人攻击。系统会认为网络传输的过程是有效的。这种方式的恶意攻击非常常见，有研究显示（引用<a href="https://www.fireeye.com/blog/threat-research/2014/08/ssl-vulnerabilities-who-listens-when-android-applications-talk.html" target="_blank" rel="external">1</a>），使用HTTPS请求的应用程序，有73％没有使用适当的方式来检查证书。</p>
<h2 id="确认对后端请求的安全性"><a href="#确认对后端请求的安全性" class="headerlink" title="确认对后端请求的安全性"></a>确认对后端请求的安全性</h2><p>解决上述问题的方法，在于手动检查中间证书（该证书对服务器来说应该是特定的）是一个已知的证书。这意味着，我们不得不在应用程序中存储那个特定的服务器证书。它可以作为资源文件，或者直接在代码中作为常量，</p>
<p>也许你会奇怪，为什么我们必须检查中间证书而不是检查最终用户证书。这有两个原因：第一个，稍后我们会看到，最终用户证书的生命周期非常短暂。第二个原因也是处于安全考虑：假设黑客控制了你的系统，他们将会获取你的私钥（private key）。应用会认为这些请求是由正确的终端用户签名的，就会允许链接。如果确认过程由中间服务器完成，中间服务器就可以远程的通过中间CA回收证书。</p>
<p>在JAVA中，可以使用SSLSocketFactory类，来确认SSL链接是否安全。创建来执行中间证书检查，需要经过以下几步：</p>
<p>继承X509TrustManger，这个位于 java.net.ssl 包中的抽象类用于检查SSL链接在服务端的有效性。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">public class MyX509TrustManager implements X509TrustManager &#123;</div><div class="line">    private X509Certificate certificate;</div><div class="line"> </div><div class="line">    public MyX509TrustManager (InputStream knownIntermediateCertificate) throws CertificateException &#123;</div><div class="line">        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);</div><div class="line">        certificate = certFactory.generateCertificate(knownIntermediateCertificate);</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    @Override</div><div class="line">    public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException &#123;</div><div class="line">        // Do nothing. We only want to check server side certificate.</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    @Override</div><div class="line">    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException &#123;</div><div class="line">        // Verify that the certificate domain name matches the expected one</div><div class="line">        if (!chain[0].getIssuerDN().equals(certificate.getSubjectDN())) &#123;</div><div class="line">            throw new CertificateException(&quot;Parent certificate of server was different than expected signing certificate&quot;);</div><div class="line">        &#125;</div><div class="line"> </div><div class="line">        try &#123;</div><div class="line">            // Verifiy that the certificate key matches the expected one</div><div class="line">            chain[0].verify(certificate.getPublicKey());</div><div class="line"> </div><div class="line">            // Verify that the certificate has not expired</div><div class="line">            chain[0].checkValidity();</div><div class="line">        &#125; catch (Exception e) &#123;</div><div class="line">            throw new CertificateException(&quot;Parent certificate of server was different than expected signing certificate&quot;);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    @Override</div><div class="line">    public X509Certificate[] getAcceptedIssuers() &#123;</div><div class="line">        // Do nothing</div><div class="line">        return new X509Certificate[0];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>设置一个SSLSocketFactory，这段代码需要在网络请求前运行。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">    </div><div class="line">TrustManager[] trustManagerArray = new TrustManager[1];</div><div class="line">MyTrustManager trustManager = new MyTrustManager(TRUSTED_CERTIFICATE);</div><div class="line">trustManagerArray[0] = trustManager;</div><div class="line"> </div><div class="line">final SSLContext sslc;</div><div class="line"> </div><div class="line">// TLS is the last SSL protocol and is used by all the CA</div><div class="line">sslc = SSLContext.getInstance(&quot;TLS&quot;);</div><div class="line"> </div><div class="line">// We only need to give a TrustManager list as we don&apos;t need to perform client authentification</div><div class="line">sslc.init(null, trustManagers, null);</div><div class="line">HttpsURLConnection.setDefaultSSLSocketFactory(sslc.getSocketFactory());</div></pre></td></tr></table></figure></p>
<p><strong> 证书检查的潜在缺点：</strong><br>1.中间证书可能过期（他们的生命周期是大约十年）。解决方案是在旧证书过期前，将新证书加入白名单。</p>
<p>2.中间证书可能存在风险。如果中间CA被黑，整个安全机制将会毫无用处。事实上，如果中间CA的私钥被黑客获取，它就可以伪造一个证书链，该证书链将会与你的证书链由相同的中间证书。这样，攻击者就可以实现中间人攻击。甚至CA是理论安全的，也不排除会发生诸如2011年DigiNotar被黑的事件（引用<a href="https://threatpost.com/final-report-diginotar-hack-shows-total-compromise-ca-servers-103112/77170/" target="_blank" rel="external">13</a>）。那样的话，就必须更换服务器的SSL证书链，并上线包含新的中间证书的版本。</p>
<p>3.SSLSocketFactory的信任策略会应用到应用程序的所有请求。如果有SDK嵌入，也需要为SDK的远程服务器嵌入中间证书。让其他的服务器使用你的证书，可能没那么容易，这就会产生问题。<br>这个问题，可以通过动态证书注入来解决。应用程序只允许一个证书（主服务器的那个），并且在应用启动时动态获得一个授权中间证书的列表。然后，将这些证书加入SSLContext的TrustManager中。</p>
<p>总之，在大多数情况下，中间检查机制能够确保对中间人（MITM）攻击的保护。当黑客截获了通信的信息，如果他使用了TrustManager无法识别的证书，将会拒绝HTTPS连接。</p>
<h2 id="设备端安全存储"><a href="#设备端安全存储" class="headerlink" title="设备端安全存储"></a>设备端安全存储</h2><p>安卓平台提供了一种方便的存储偏好设置深知大文件的方式——SharedPreferences 接口。虽然这些设置已经被隐藏到一个隐蔽的路径了，但如果设备root了，这些数据还是有可能被获取到。<br>因此，如果应用要保存敏感信息，在SharedPreference中就必须加密存储。一般有两种方式：<br>1.使用一个密码库，来加密和解密SharedPreferences中存储的健和值。有很多JAVA的密码库可以使用，如： javax.crypto, Bouncycastle（引用<a href="http://www.bouncycastle.org/" target="_blank" rel="external">2</a>） 和 Concealed（引用<a href="https://code.facebook.com/posts/1419122541659395/introducing-conceal-efficient-storage-encryption-for-android/" target="_blank" rel="external">3</a>）</p>
<p>2.使用SharedPreferences的包装类库（wrapper）。这些库对开发者非常方便，不用考虑算法选择之类的事情。但是，使用这些库可能会导致缺乏灵活性并且有些库也没有使用安全的算法，这将会导致敏感信息并没有被安全存储。其中一个这方面最常用的类库是SecurePrefences（引用<a href="https://github.com/scottyab/secure-preferences" target="_blank" rel="external">4</a>）。在这个解决方案中，你可以采用下面的方式使用SecurePreferences，它继承于SharedPreferences。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">SecurePreferences securePreferences = new SecurePreferences(context, &quot;MyPassword&quot;, null);</div></pre></td></tr></table></figure></p>
<p>这两种对称加密算法，像AES（需要一个合适的key size）会引发另一个需要思考的问题：应该用什么密钥。确实如果我们使用一个静态密钥，这些设置可以通过反编译程序来破解。所以，最好的方法是在应用启动时让用户来输入。另一个选择是让用户使用指纹API （引用<a href="https://developer.android.com/intl/zh-cn/about/versions/marshmallow/android-6.0.html#fingerprint-authentication" target="_blank" rel="external">15</a>） (API 23以后可以使用) ，它将会提供一个安全流畅的方式来鉴权。</p>
<p>不幸的是，这些方法并不能适合每一个应用的用户体验。比如，如果我们打算在用户输入密码前显示一些被存储的加密信息，我们就不能使用这种加密系统。</p>
<p>幸运的是，安卓提供了一个安全生成密钥的方式，它保证了每个应用／设备对生成的密钥的唯一性，那就是Keystore。Android Keystore的目的是为了允许应用程序将私钥放到一个其他应用程序不能获得的地方。这种机制很简单，第一次启动，你的应用检查该私钥是否存在，如果没有，就生成一个并存储在keystore中。如果私钥已经存在，你可以使用它来做为之前提到的加密算法的安全码来加密SharedPreferences存取的数据。Obaro Ogbo 写了一篇文章 （引用<a href="http://www.androidauthority.com/use-android-keystore-store-passwords-sensitive-information-623779/" target="_blank" rel="external">11</a>） ，详细描述了如何使用KeyStore来生成私钥／公钥（Private/Public Key ）对。KeyStore的主要缺陷在于，其api只支持Api 18以上版本。不过，还是有一个针对API 14 （引用<a href="https://github.com/pprados/android-keychain-backport" target="_blank" rel="external">14</a>）兼容的移植版（这不是官方的移植，所以请谨慎使用）。</p>
<p>因此，我们可以根据下面的决策图来决定是否对设置项进行加密：<br><img src="http://7xo1gw.com1.z0.glb.clouddn.com/android_application_security1.png" alt=""></p>
<h2 id="保护应用程序不被代码分析和修改"><a href="#保护应用程序不被代码分析和修改" class="headerlink" title="保护应用程序不被代码分析和修改"></a>保护应用程序不被代码分析和修改</h2><p>安卓开发者想确保它的应用程序没有被分析、读取甚至被修改，一般出于以下原因：<br>1.我们希望黑客没有办法解开那些需要用户付费才能使用的功能。<br>2.有时候我们开发了具有敏感信息的程序，黑客可以将所有用户输入的信息发送给他。即使（这些被修改的应用）不能轻易放到Play市场，用户也能从许多其他的地方下载到这个被修改的应用，这将以很隐秘的方式偷窥用户信息。</p>
<p>在开发具有敏感数据应用时，安卓开发者需要关注的是Android应用是非常容易被一些有经验的人反编译的。大多数安卓应用程序（采用java字节码），即通过“原生“安卓建立的应用确实如此。反编译及阅读这些字节码非常容易，以至于修改、重新构建一个修改过的应用（引用<a href="http://geeknizer.com/decompile-reverse-engineer-android-apk/" target="_blank" rel="external">5</a>）。</p>
<p>在这个部分，我们着重研究一些技巧和方法，以及架构规则，来避免可能产生的风险。同时，我们需要明白的是，并不是每一个客户端设备都会100％面对这些风险。</p>
<p>1.将有价值的算法放到服务端<br>这是一条架构规则。你的应用的价值都是基于核心算法体现，你肯定不想让其他人可以轻易读取、拷贝、并将其放倒自己的应用程序中。在这种情况下，最好的方案是在服务端实现这些算法。应用仅通过给WS提供数据，在服务端处理后，得到算法的返回值。这样做的显著缺陷是以这样的架构为核心功能的程序，不能离线使用。</p>
<p>2.不要暴露你的WS（WebService）<br>如果你的应用的价值依赖于从WS获取的数据，你就不得不为WS设置安全访问，如，通过为每个请求附带使用密码短语或用户名密码获取的会话令牌的方式。如果你只是在app的preference设置中放了一个认证标志，那这个标志就很容易通过修改应用代码的方式，被设置成“永久连接“。这样做的风险，是用户不得不经常输入用户名和密码来延长会话时间。</p>
<p>3.使用Proguard来混淆代码<br>Proguard是一个常用的JAVA工具。Proguard之行三个过程：</p>
<ul>
<li>瘦身：未用到的代码被移除</li>
<li>优化：内联一些方法，未使用的方法参数被移除等</li>
<li>混淆：最后这步，Proguard将会重命名所有java源文件中的类、属性、方法名，来确保即使字节码被反编译了，这些代码也几乎不可读。当然Proguard也会确保JVM能够识别这些不同的编译元素。</li>
</ul>
<p>这个工具非常有趣，因为它让读取反编译后的字节码非常困难。然而，尽管一些代码元素被重命名了，但反编译后，被混淆的方法和属性的作用还是有可能被猜到。另外，Proguard也生成了一个映射文件，用来将混淆后的代码转换为可读的代码（引用<a href="http://proguard.sourceforge.net/manual/retrace/examples.html" target="_blank" rel="external">6</a>）。</p>
<p>网络上有很多教程，来介绍关于配置Proguard的相关细节。如Android官方文档（引用<a href="http://developer.android.com/intl/zh-cn/tools/help/proguard.html" target="_blank" rel="external">7</a>）。</p>
<p>使用编译后的库<br>借助于Java本地接口技术（JNI），使用C或C＋＋编写的编译后的本地代码可以作为JAVA代码的接口实现。而借助Android NDK，你可以更方便的使用此功能。总的来说，这机制很简单：先编译好C/C++代码（必须包括标准的JNI入口），得到一个.so文件。然后将这个库文件包含到你的应用程序工程中，以及它的java接口。这里我们谈到编译好的类库，最主要的目的就是，对于反编译后的代码的可读性，so的机器码将比Java的字节码更难读。一个好的实践是（如果实现起来方便的话）是，将应用中具有高安全级别的部分（原文为：更敏感的部分）用C或C＋＋来开发（例如需要保密的算法或者安全层）并以接口形式暴露，而应用中的其他部分再使用JAVA开发。</p>
<p>诚然，使用NDK也还是有缺点的：我们必须为不同的目标硬件架构分别编译本地库。如果漏掉了其中某种，程序就会崩溃。另外这也会使代码架构变的更复杂些。<br>结论</p>
<p>在这篇文章中，我们为OWASP提出的《10大移动安全问题中》（引用<a href="https://www.owasp.org/index.php/OWASP_Mobile_Security_Project#tab=Top_10_Mobile_Risks" target="_blank" rel="external">9</a>）中的3个提出了解决方案。像在导语中提到的那样，只有应用程序链接到的后端系统架构安全，应用的安全才能保证。我们可以从技术上开发一个安全的应用，但如果服务端的糟糕设计导致认证系统的安全性孱弱，所有的努力也将费日。同时，应用开发者有责任确保应用的安全边界没有瑕疵，这篇文章为其提供了合适的解决方案。</p>
<p>原文链接 : Develop a secured Android application<br>原文作者 : Rémi Pradal<br>译文出自 : <a href="http://toutiao.io/download" target="_blank" rel="external">开发者头条</a><br>译者 : kevinhong<br>校对者: desmond1121</p>
<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul>
<li><a href="http://blog.octo.com/en/develop-secured-android-application/?utm_source=Android+Weekly&amp;utm_campaign=0903213dbd-Android_Weekly_175&amp;utm_medium=email&amp;utm_term=0_4eb677ad19-0903213dbd-337955857" target="_blank" rel="external">Develop a secured Android application</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/15/android_application_security/" data-id="cj4zxopm2000oq4nhxpsfvbm7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/intentflag/">intentflag</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android_activity_start_way" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/14/android_activity_start_way/" class="article-date">
  <time datetime="2015-12-14T08:49:29.000Z" itemprop="datePublished">2015-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/android/">android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/14/android_activity_start_way/">Activity中的四种启动模式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在Android中每个界面都是一个Activity，切换界面操作其实是多个不同Activity之间的实例化操作。在Android中 Activity的启动模式决定了Activity的启动运行方式。<br>Android总Activity的启动模式分为四种：</p>
<ul>
<li>standard</li>
<li>singleTop</li>
<li>singleTask</li>
<li>singleInstance</li>
</ul>
<p>Activity启动模式设置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;activity android:name=&quot;.MainActivity&quot; android:launchMode=&quot;standard&quot; /&gt;</div><div class="line">//在AndroidManifest.xml中的标签的android:launchMode属性设置.</div><div class="line">//启动模式有4种，分别为standard、singleTop、singleTask、singleInstance.</div></pre></td></tr></table></figure></p>
<h2 id="启动模式介绍"><a href="#启动模式介绍" class="headerlink" title="启动模式介绍"></a>启动模式介绍</h2><p> <strong> Activity的四种启动模式</strong><br> 1.standard：每次激活Activity时都会创建Activity，并放入任务栈中。<br> 2.singleTop:如果在任务的栈顶正好存在该Activity的实例， 就重用该实例，否者就会创建新的实例并放入栈顶(即使栈中已经存在该Activity实例，只要不在栈顶，都会创建实例)。<br> 3.singleTask:如果在栈中已经有该Activity的实例，就重用该实例(会调用实例的onNewIntent())。重用时，会让该实例回到栈顶，因此在它上面的实例将会被移除栈。如果栈中不存在该实例，将会创建新的实例放入栈中。<br> 4.singleInstance:在一个新栈中创建该Activity实例，并让多个应用共享该栈中的该Activity实例。一旦该模式的Activity的实例存在于某个栈中，任何应用再激活该Activity时都会重用该栈中的实例，其效果相当于多个应用程序共享一个应用，不管谁激活该Activity都会进入同一个应用中。</p>
<p>其中standard是系统默认的启动模式。</p>
<p><strong> 任务栈</strong><br>每个应用都有一个任务栈，是用来存放Activity的，功能类似于函数调用的栈，先后顺序代表了Activity的出现顺序；比如Activity1–&gt;Activity2–&gt;Activity3,则任务栈为：<br><img src="http://www.linuxidc.com/upload/2012_07/120721093646151.gif" alt=""></p>
<p><strong> 启动模式图解</strong><br>(1)standard：每次激活Activity时(startActivity)，都创建Activity实例，并放入任务栈；<br><img src="http://www.linuxidc.com/upload/2012_07/120721093646152.gif" alt=""><br>(2)singleTop：如果某个Activity自己激活自己，即任务栈栈顶就是该Activity，则不需要创建，其余情况都要创建Activity实例；<br><img src="http://www.linuxidc.com/upload/2012_07/120721093646153.gif" alt=""><br>(3)singleTask：如果要激活的那个Activity在任务栈中存在该实例，则不需要创建，只需要把此Activity放入栈顶，并把该Activity以上的Activity实例都pop；<br><img src="http://www.linuxidc.com/upload/2012_07/120721093646154.gif" alt=""><br>(4)singleInstance：如果应用1的任务栈中创建了MainActivity实例，如果应用2也要激活MainActivity，则不需要创建，两应用共享该Activity实例；<br><img src="http://www.linuxidc.com/upload/2012_07/120721093646155.gif" alt=""></p>
<p>SingTask的应用：<br>可以用来退出整个应用。将主Activity设为SingTask模式，然后在要退出的Activity中转到主Activity，然后重写主Activity的onNewIntent函数，并在函数中加上一句finish。</p>
<p>附：退出单个Activity方法：</p>
<ul>
<li>1.调用finish</li>
<li>2.杀死该进程：killprocess(Process.mId)</li>
<li>3.终止正在运行的虚拟机：system.exit()</li>
</ul>
<h2 id="各种启动模式详解"><a href="#各种启动模式详解" class="headerlink" title="各种启动模式详解"></a>各种启动模式详解</h2><p>下面通过代码解释各种模式的运行机制</p>
<p><strong> 1.standard</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">private TextView text_show;</div><div class="line">     private Button btn_mode;</div><div class="line">     </div><div class="line">     @Override</div><div class="line">     public void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">         super.onCreate(savedInstanceState);</div><div class="line">         setContentView(R.layout.activity_main);</div><div class="line">         </div><div class="line">         text_show = (TextView) this.findViewById(R.id.text_show);</div><div class="line">         </div><div class="line">         text_show.setText(this.toString());</div><div class="line">         </div><div class="line">         btn_mode = (Button) this.findViewById(R.id.btn_mode);</div><div class="line">         </div><div class="line">     &#125;</div><div class="line">     </div><div class="line">　　　　//按钮单击事件</div><div class="line">     public void LaunchStandard(View v)&#123;</div><div class="line">         startActivity(new Intent(this,MainActivity.class));</div><div class="line">         </div><div class="line">         text_show.setText(this.toString());</div><div class="line">     &#125;</div></pre></td></tr></table></figure>
<p>初始化界面如下：<br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082519471692.png" alt=""></p>
<p>当点击按钮时，会创建新的Activity，通过TextView@后16进制数的显示即可看出，点击两次分别界面如下:<br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082519483568.png" alt=""><br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082519484221.png" alt=""></p>
<p>此时，我们分析栈内部的运行机制：（依次从栈顶向上）<br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082519525961.png" alt=""></p>
<p>因此，这种Standard模式是每次都会创建新的Activity对象，当点击返回按钮时，他会将栈顶(当前Activity)消灭，然后跳到下一 层，例如如果现在Activity是44ed8c50，那么当我们点击返回时Activity会变为44f28a48，不过此时在这个Activity中 再次点击按钮创建对象时，它会另外创建新的Activity对象，这种模式可能大多数情况下不是我们需要的，因为对系统性能的消耗过大。</p>
<p>下面我们介绍两种能使用当前栈中Activity的启动模式：</p>
<p><strong> 2. singleTop</strong></p>
<p>从上面的解释中即可知道，在每次使用新的Activity时会自动检测栈顶的当前Activity是否是需要引用的Activity，如果是则直接引用此Activity，而不会创建新的Activity。</p>
<p>我们在刚才的界面中加入一个”启动singletop模式”按钮，当点击时出现我们创建的singletop中，在Activity singletop中有一个按钮，启动singletop模式，表示启动当前Activity，由于我们在清单文件中配置Activity的启动模式为 singleTop，因此此时不会再创建而是利用当前栈顶的singleTop Activity：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;activity</div><div class="line">    android:name=&quot;.SingleTopActivity&quot;</div><div class="line">    android:label=&quot;@string/singletop&quot;</div><div class="line">    android:launchMode=&quot;singleTop&quot; &gt;</div><div class="line">&lt;/activity&gt;</div></pre></td></tr></table></figure></p>
<p>界面初始化：<br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082522001566.png" alt=""></p>
<p>点击”启动singleTop模式”按钮：<br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082522013733.png" alt=""></p>
<p>我们分析它的运行机制，可知，当程序运行到此时，栈中的数据形式为：<br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082522002968.png" alt=""></p>
<p>当我们在上面界面中点击”启动singleTop模式”按钮时，由于此Activity设置的启动模式为singleTop，因此它首先会检测当 前栈顶是否为我们要请求的Activity对象，经验证成立，因此它不会创建新的Activity，而是引用当前栈顶的Activity。<br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082522013733.png" alt=""></p>
<p>虽然它不会创建新的Activity对象，不过它每次回调用onNewIntent()方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@Override</div><div class="line">     protected void onNewIntent(Intent intent) &#123;</div><div class="line">         // TODO Auto-generated method stub</div><div class="line">         super.onNewIntent(intent);</div><div class="line">         </div><div class="line">         Toast.makeText(this, new Date().toString(), 1).show();</div><div class="line">     &#125;</div></pre></td></tr></table></figure></p>
<p>我们为此方法编写代码输出当前日期，则在每次点击上面按钮时会输出当前日期。</p>
<p><strong> 3.singleTask</strong></p>
<p>此启动模式和singleTop在名字上即可看出区别，即singleTop每次只检测当前栈顶的Activity是否是我们需要请求创建的，而 singleTask则会检测栈中全部的Activity对象，从上向下，如果检测到是我们所请求的则会消灭此Activity对象上面的对象，直接把检测到的我们需要的Activity置为栈顶。</p>
<p>我们创建一个SingleTaskActivity，此界面中包含一个启动MainActivity和启动SingleTaskActivity 按钮。</p>
<p>初始化:<br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082522360528.png" alt=""></p>
<p>点击”启动singleTask模式”按钮：<br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082522360956.png" alt=""></p>
<p>在此界面中点击第二个按钮”启动singleTask模式”按钮，根据定义会检测当前栈中是否有此Activity对象，因此显示的还是当前的 Activity，不会重新创建；</p>
<p>再点击”启动Standard模式”按钮，由于MainActivity的启动模式为standard，所以在此会重新创建一个 MainActivity对象：<br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082522361480.png" alt=""></p>
<p>此时栈中数据格式为：<br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082522413124.png" alt=""></p>
<p>当在上面界面中点击”启动singleTask模式”按钮时，由于检测到当期栈中第二个为我们要创建的Activity，会将最上面的 MainActivity消灭，然后将SingleTaskActivity设置为栈顶：<br><img src="http://pic002.cnblogs.com/images/2012/302664/2012082522362022.png" alt=""></p>
<p><strong> 4.SingleInstance</strong><br>此启动模式和我们使用的浏览器工作原理类似，我们都知道在多个程序中访问浏览器时，如果当前浏览器没有打开，则打开浏览器，否则会在当前打开的浏 览器中访问。此模式会节省大量的系统资源，因为他能保证要请求的Activity对象在当前的栈中只存在一个。</p>
<h2 id="退出整个应用"><a href="#退出整个应用" class="headerlink" title="退出整个应用"></a>退出整个应用</h2><p>通过singleTop的原理，退出整个应用。具体实现是添加退出类：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">public class CloseActivity</div><div class="line">&#123;</div><div class="line">    private static LinkedList&lt;Activity&gt; acys = new LinkedList&lt;Activity&gt;();</div><div class="line"></div><div class="line">    public static Activity curActivity;</div><div class="line">    </div><div class="line">    public static void add(Activity acy)</div><div class="line">    &#123;</div><div class="line">        acys.add(acy);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public static void remove(Activity acy) &#123;</div><div class="line">        acys.remove(acy);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    public static void close()</div><div class="line">    &#123;</div><div class="line">        Activity acy;</div><div class="line">        while (acys.size() != 0)</div><div class="line">        &#123;</div><div class="line">            acy = acys.poll();</div><div class="line">            if (!acy.isFinishing())</div><div class="line">            &#123;</div><div class="line">                acy.finish();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">//        android.os.Process.killProcess(android.os.Process.myPid());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Android的窗口类提供了历史栈，我们可以通过stack的原理实现，我们在D窗口打开A窗口时在Intent中直接加入标志Intent.FLAG_ACTIVITY_CLEAR_TOP，再次开启A时将会清除该进程空间的所有Activity。 在D中使用下面的代码:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Intent intent = new Intent(); </div><div class="line">intent.setClass(D.this, A.class); </div><div class="line">intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);  //注意本行的FLAG设置 </div><div class="line">startActivity(intent); </div><div class="line">finish();</div></pre></td></tr></table></figure></p>
<p>关掉自己 在A中加入代码： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">@Override</div><div class="line">protected void onNewIntent(Intent intent) &#123; </div><div class="line"></div><div class="line">super.onNewIntent(intent);</div><div class="line">//退出</div><div class="line">    if ((Intent.FLAG_ACTIVITY_CLEAR_TOP &amp; intent.getFlags()) != 0) &#123;</div><div class="line"></div><div class="line">           finish();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>A的Manifest.xml配置成android:launchMode=”singleTop”</p>
<p>原理总结：<br>一般A是程序的入口点，从D起一个A的activity，加入标识Intent.FLAG_ACTIVITY_CLEAR_TOP这个过程中会把栈中B，C，都清理掉。因为A是android:launchMode=”singleTop” 不会调用oncreate(),而是响应onNewIntent（）这时候判断Intent.FLAG_ACTIVITY_CLEAR_TOP，然后把A finish（）掉。 栈中A,B,C,D全部被清理。所以整个程序退出了。</p>
<h2 id="Developers官网解释"><a href="#Developers官网解释" class="headerlink" title="Developers官网解释"></a>Developers官网解释</h2><p>android:launchMode<br>An instruction on how the activity should be launched. There are four modes that work in conjunction with activity flags (FLAG<em>ACTIVITY</em>* constants) in Intent objects to determine what should happen when the activity is called upon to handle an intent. They are:</p>
<ul>
<li>“standard”</li>
<li>“singleTop”</li>
<li>“singleTask”</li>
<li>“singleInstance”</li>
</ul>
<p>The default mode is “standard”.</p>
<p>As shown in the table below, the modes fall into two main groups, with “standard” and “singleTop” activities on one side, and “singleTask” and “singleInstance” activities on the other. An activity with the “standard” or “singleTop” launch mode can be instantiated multiple times. The instances can belong to any task and can be located anywhere in the activity stack. Typically, they’re launched into the task that called startActivity() (unless the Intent object contains a FLAG_ACTIVITY_NEW_TASK instruction, in which case a different task is chosen — see the taskAffinity attribute).</p>
<p>In contrast, “singleTask” and “singleInstance” activities can only begin a task. They are always at the root of the activity stack. Moreover, the device can hold only one instance of the activity at a time — only one such task.</p>
<p>The “standard” and “singleTop” modes differ from each other in just one respect: Every time there’s a new intent for a “standard” activity, a new instance of the class is created to respond to that intent. Each instance handles a single intent. Similarly, a new instance of a “singleTop” activity may also be created to handle a new intent. However, if the target task already has an existing instance of the activity at the top of its stack, that instance will receive the new intent (in an onNewIntent() call); a new instance is not created. In other circumstances — for example, if an existing instance of the “singleTop” activity is in the target task, but not at the top of the stack, or if it’s at the top of a stack, but not in the target task — a new instance would be created and pushed on the stack.</p>
<p>Similarly, if you navigate up to an activity on the current stack, the behavior is determined by the parent activity’s launch mode. If the parent activity has launch mode singleTop (or the up intent contains FLAG_ACTIVITY_CLEAR_TOP), the parent is brought to the top of the stack, and its state is preserved. The navigation intent is received by the parent activity’s onNewIntent() method. If the parent activity has launch mode standard (and the up intent does not contain FLAG_ACTIVITY_CLEAR_TOP), the current activity and its parent are both popped off the stack, and a new instance of the parent activity is created to receive the navigation intent.</p>
<p>The “singleTask” and “singleInstance” modes also differ from each other in only one respect: A “singleTask” activity allows other activities to be part of its task. It’s always at the root of its task, but other activities (necessarily “standard” and “singleTop” activities) can be launched into that task. A “singleInstance” activity, on the other hand, permits no other activities to be part of its task. It’s the only activity in the task. If it starts another activity, that activity is assigned to a different task — as if FLAG_ACTIVITY_NEW_TASK was in the intent.</p>
<table><tr><th width="10%">Use Cases</th><th width="10%">Launch Mode</th><th width="10%">Multiple Instances?</th><th width="80%">Comments</th></tr><tr><td rowspan="2">Normal launches for most activities</td><td>“standard”</td><td>Yes</td><td>Default. The system always creates a new instance of the activity in the target task and routes the intent to it.</td></tr><tr><td>“singleTop”</td><td>Conditionally</td><td>If an instance of the activity already exists at the top of the target task, the system routes the intent to that instance through a call to its onNewIntent() method, rather than creating a new instance of the activity.</td></tr><tr><td rowspan="2">Specialized launches(not recommended for general use)</td><td>“singleTask”</td><td>No</td><td>The system creates the activity at the root of a new task and routes the intent to it. However, if an instance of the activity already exists, the system routes the intent to existing instance through a call to its onNewIntent() method, rather than creating a new one.</td></tr><tr><td>“singleInstance”</td><td>No</td><td>Same as “singleTask”, except that the system doesn’t launch any other activities into the task holding the instance. The activity is always the single and only member of its task.</td></tr></table>

<p>As shown in the table above, standard is the default mode and is appropriate for most types of activities. SingleTop is also a common and useful launch mode for many types of activities. The other modes — singleTask and singleInstance — are not appropriate for most applications, since they result in an interaction model that is likely to be unfamiliar to users and is very different from most other applications.</p>
<p>Regardless of the launch mode that you choose, make sure to test the usability of the activity during launch and when navigating back to it from other activities and tasks using the Back button.</p>
<p>For more information on launch modes and their interaction with Intent flags, see the <a href="http://developer.android.com/guide/components/tasks-and-back-stack.html" target="_blank" rel="external">Tasks and Back Stack document</a>.</p>
<p>上面即为Android中的四种启动模式以及应用场景，我们在开发Android项目时会经常使用到，巧妙设置Activity的启动模式会节省系统开销和程序运行效率。</p>
<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul>
<li><a href="http://developer.android.com/intl/zh-cn/guide/topics/manifest/activity-element.html#lmode" target="_blank" rel="external">Developers-launchMode</a></li>
<li><a href="http://www.android100.org/html/201402/18/5634.html" target="_blank" rel="external">Android中Activity启动模式详解</a></li>
<li><a href="http://www.cnblogs.com/meizixiong/archive/2013/07/03/3170591.html" target="_blank" rel="external">Android入门：Activity四种启动模式</a></li>
<li><a href="http://aresxiong.com/2015/12/03/android_activity_stack/" target="_blank" rel="external">Intent Flag之FLAG_ACTIVITY_CLEAR_TOP</a></li>
<li><a href="http://blog.csdn.net/caiwenfeng_for_23/article/details/12710617" target="_blank" rel="external">Android 退出整个应用程序解决方案</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/14/android_activity_start_way/" data-id="cj4zxopl00005q4nh25bl3eeg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/activity/">activity</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android_book_SmashingAndroidUI" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/14/android_book_SmashingAndroidUI/" class="article-date">
  <time datetime="2015-12-14T06:49:29.000Z" itemprop="datePublished">2015-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/android/">android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/14/android_book_SmashingAndroidUI/">Smashing Android UI</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <iframe width="1000" height="900" class="preview-iframe" scrolling="no" frameborder="0" src="http://download.csdn.net/source/preview/7985331/a0d8bddeda7a1587f588ac6a93ea9c86"></iframe>

<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul>
<li><a href="http://download.csdn.net/detail/pz0605/7985331" target="_blank" rel="external">书籍下载</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/14/android_book_SmashingAndroidUI/" data-id="cj4zxopm20010q4nhgqvgdflh" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android-ui/">android_ui</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/book/">book</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android_context" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/14/android_context/" class="article-date">
  <time datetime="2015-12-14T05:49:29.000Z" itemprop="datePublished">2015-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/android/">android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/14/android_context/">Android Context解析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Context相信所有的Android开发人员基本上每天都在接触，因为它太常见了。但是这并不代表Context没有什么东西好讲的，实际上Context有太多小的细节并不被大家所关注，那么今天我们就来学习一下那些你所不知道的细节。</p>
<h2 id="Context类型"><a href="#Context类型" class="headerlink" title="Context类型"></a>Context类型</h2><p>我们知道，Android应用都是使用Java语言来编写的，那么大家可以思考一下，一个Android程序和一个Java程序，他们最大的区别在哪里？划分界限又是什么呢？其实简单点分析，Android程序不像Java程序一样，随便创建一个类，写个main()方法就能跑了，而是要有一个完整的Android工程环境，在这个环境下，我们有像Activity、Service、Broadcast Receiver等系统组件，而这些组件并不是像一个普通的Java对象new一下就能创建实例的了，而是要有它们各自的上下文环境，也就是我们这里讨论的Context。可以这样讲，Context是维持Android程序中各组件能够正常工作的一个核心功能类。</p>
<p>下面我们来看一下Context的继承结构：<br><img src="http://7xo1gw.com1.z0.glb.clouddn.com/android_context1.png" alt=""></p>
<p>Context的继承结构还是稍微有点复杂的，可以看到，直系子类有两个，一个是ContextWrapper，一个是ContextImpl。那么从名字上就可以看出，ContextWrapper是上下文功能的封装类，而ContextImpl则是上下文功能的实现类。而ContextWrapper又有三个直接的子类，ContextThemeWrapper、Service和Application。其中，ContextThemeWrapper是一个带主题的封装类，而它有一个直接子类就是Activity。</p>
<p>那么在这里我们至少看到了几个所比较熟悉的面孔，Activity、Service、还有Application。由此，其实我们就已经可以得出结论了，Context一共有三种类型，分别是Application、Activity和Service。这三个类虽然分别各种承担着不同的作用，但它们都属于Context的一种，而它们具体Context的功能则是由ContextImpl类去实现的。</p>
<p>那么Context到底可以实现哪些功能呢？这个就实在是太多了，弹出Toast、启动Activity、启动Service、发送广播、操作数据库等等等等都需要用到Context。由于Context的具体能力是由ContextImpl类去实现的，因此在绝大多数场景下，Activity、Service和Application这三种类型的Context都是可以通用的。不过有几种场景比较特殊，比如启动Activity，还有弹出Dialog。出于安全原因的考虑，Android是不允许Activity或Dialog凭空出现的，一个Activity的启动必须要建立在另一个Activity的基础之上，也就是以此形成的返回栈。而Dialog则必须在一个Activity上面弹出（除非是System Alert类型的Dialog），因此在这种场景下，我们只能使用Activity类型的Context，否则将会出错。</p>
<h2 id="Context数量"><a href="#Context数量" class="headerlink" title="Context数量"></a>Context数量</h2><p>那么一个应用程序中到底有多少个Context呢？其实根据上面的Context类型我们就已经可以得出答案了。Context一共有Application、Activity和Service三种类型，因此一个应用程序中Context数量的计算公式就可以这样写：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Context数量 = Activity数量 + Service数量 + 1</div></pre></td></tr></table></figure></p>
<p>上面的1代表着Application的数量，因为一个应用程序中可以有多个Activity和多个Service，但是只能有一个Application。</p>
<h2 id="Application-Context的设计"><a href="#Application-Context的设计" class="headerlink" title="Application Context的设计"></a>Application Context的设计</h2><p>基本上每一个应用程序都会有一个自己的Application，并让它继承自系统的Application类，然后在自己的Application类中去封装一些通用的操作。其实这并不是Google所推荐的一种做法，因为这样我们只是把Application当成了一个通用工具类来使用的，而实际上使用一个简单的单例类也可以实现同样的功能。但是根据我的观察，有太多的项目都是这样使用Application的。当然这种做法也并没有什么副作用，只是说明还是有不少人对于Application理解的还有些欠缺。那么这里我们先来对Application的设计进行分析，讲一些大家所不知道的细节，然后再看一下平时使用Application的问题。</p>
<p>首先新建一个MyApplication并让它继承自Application，然后在AndroidManifest.xml文件中对MyApplication进行指定，如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt; application </div><div class="line">  android:name = &quot;.MyApplication&quot; </div><div class="line">  android:allowBackup = &quot;true&quot; </div><div class="line">  android:icon = &quot;@drawable/ic_launcher&quot; </div><div class="line">  android:label = &quot;@string/app_name&quot; </div><div class="line">  android:theme = &quot;@style/AppTheme&quot; &gt; </div><div class="line">  ...... </div><div class="line">&lt;/ application &gt;</div></pre></td></tr></table></figure></p>
<p>指定完成后，当我们的程序启动时Android系统就会创建一个MyApplication的实例，如果这里不指定的话就会默认创建一个Application的实例。</p>
<p>前面提到过，现在很多的Application都是被当作通用工具类来使用的，那么既然作为一个通用工具类，我们要怎样才能获取到它的实例呢？如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">public class MainActivity  extends Activity &#123; </div><div class="line">  @Override </div><div class="line">  protected void onCreate(Bundle savedInstanceState) &#123; </div><div class="line">  super .onCreate(savedInstanceState); </div><div class="line">  setContentView(R.layout.activity_main); </div><div class="line">  MyApplication myApp = (MyApplication) getApplication(); </div><div class="line">  Log.d( &quot;TAG&quot; ,  &quot;getApplication is &quot; + myApp); </div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>可以看到，代码很简单，只需要调用getApplication()方法就能拿到我们自定义的Application的实例了，打印结果如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">getApplication is com.example.androidtest.MyApplication@a428db3</div></pre></td></tr></table></figure>
<p>那么除了getApplication()方法，其实还有一个getApplicationContext()方法，这两个方法看上去好像有点关联，那么它们的区别是什么呢？我们将代码修改一下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public class MainActivity  extends Activity &#123; </div><div class="line">  @Override </div><div class="line">  protected void onCreate(Bundle savedInstanceState) &#123; </div><div class="line">  super .onCreate(savedInstanceState); </div><div class="line">  setContentView(R.layout.activity_main); </div><div class="line">  MyApplication myApp = (MyApplication) getApplication(); </div><div class="line">  Log.d( &quot;TAG&quot; ,  &quot;getApplication is &quot; + myApp); </div><div class="line">  Context appContext = getApplicationContext(); </div><div class="line">  Log.d( &quot;TAG&quot; ,  &quot;getApplicationContext is &quot; + appContext); </div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>同样，我们把getApplicationContext()的结果打印了出来，现在重新运行代码，结果如下图所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">getApplication is com.example.androidtest.MyApplication@a428db3</div><div class="line">getApplicationContext is com.example.androidtest.MyApplication@a428db3</div></pre></td></tr></table></figure>
<p>咦？好像打印出的结果是一样的呀，连后面的内存地址都是相同的，看来它们是同一个对象。其实这个结果也很好理解，因为前面已经说过了，Application本身就是一个Context，所以这里获取getApplicationContext()得到的结果就是MyApplication本身的实例。</p>
<p>那么有的朋友可能就会问了，既然这两个方法得到的结果都是相同的，那么Android为什么要提供两个功能重复的方法呢？实际上这两个方法在作用域上有比较大的区别。getApplication()方法的语义性非常强，一看就知道是用来获取Application实例的，但是这个方法只有在Activity和Service中才能调用的到。那么也许在绝大多数情况下我们都是在Activity或者Service中使用Application的，但是如果在一些其它的场景，比如BroadcastReceiver中也想获得Application的实例，这时就可以借助getApplicationContext()方法了，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public class MyReceiver  extends BroadcastReceiver &#123; </div><div class="line">  @Override </div><div class="line">  public void onReceive(Context context, Intent intent) &#123; </div><div class="line">  MyApplication myApp = (MyApplication) context.getApplicationContext(); </div><div class="line">  Log.d( &quot;TAG&quot; ,  &quot;myApp is &quot; + myApp); </div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>也就是说，getApplicationContext()方法的作用域会更广一些，任何一个Context的实例，只要调用getApplicationContext()方法都可以拿到我们的Application对象。<br>那么更加细心的朋友会发现，除了这两个方法之外，其实还有一个getBaseContext()方法，这个baseContext又是什么东西呢？我们还是通过打印的方式来验证一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">getApplication is com.example.androidtest.MyApplication@a428db3</div><div class="line">getApplicationContext is com.example.androidtest.MyApplication@a428db3</div><div class="line">getBaseContext is android.app.ContextImpl@f50f70</div></pre></td></tr></table></figure>
<p>哦？这次得到的是不同的对象了，getBaseContext()方法得到的是一个ContextImpl对象。这个ContextImpl是不是感觉有点似曾相识？回去看一下Context的继承结构图吧，ContextImpl正是上下文功能的实现类。也就是说像Application、Activity这样的类其实并不会去具体实现Context的功能，而仅仅是做了一层接口封装而已，Context的具体功能都是由ContextImpl类去完成的。那么这样的设计到底是怎么实现的呢？我们还是来看一下源码吧。因为Application、Activity、Service都是直接或间接继承自ContextWrapper的，我们就直接看ContextWrapper的源码，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line">/** </div><div class="line">* Proxying implementation of Context that simply delegates all of its calls to </div><div class="line">* another Context. Can be subclassed to modify behavior without changing </div><div class="line">* the original Context. </div><div class="line">*/ </div><div class="line">public class ContextWrapper  extends Context &#123; </div><div class="line">  Context mBase; </div><div class="line">  /** </div><div class="line">  * Set the base context for this ContextWrapper. All calls will then be </div><div class="line">  * delegated to the base context. Throws </div><div class="line">  * IllegalStateException if a base context has already been set. </div><div class="line">  * </div><div class="line">  * @param base The new base context for this wrapper. </div><div class="line">  */ </div><div class="line">  protected void attachBaseContext(Context base) &#123; </div><div class="line">  if (mBase !=  null ) &#123; </div><div class="line">  throw new IllegalStateException( &quot;Base context already set&quot; ); </div><div class="line">  &#125; </div><div class="line">  mBase = base; </div><div class="line">  &#125; </div><div class="line">  /** </div><div class="line">  * @return the base context as set by the constructor or setBaseContext </div><div class="line">  */ </div><div class="line">  public Context getBaseContext() &#123; </div><div class="line">  return mBase; </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public AssetManager getAssets() &#123; </div><div class="line">  return mBase.getAssets(); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public Resources getResources() &#123; </div><div class="line">  return mBase.getResources(); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public ContentResolver getContentResolver() &#123; </div><div class="line">  return mBase.getContentResolver(); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public Looper getMainLooper() &#123; </div><div class="line">  return mBase.getMainLooper(); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public Context getApplicationContext() &#123; </div><div class="line">  return mBase.getApplicationContext(); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public String getPackageName() &#123; </div><div class="line">  return mBase.getPackageName(); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public void startActivity(Intent intent) &#123; </div><div class="line">  mBase.startActivity(intent); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public void sendBroadcast(Intent intent) &#123; </div><div class="line">  mBase.sendBroadcast(intent); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public Intent registerReceiver( </div><div class="line">  BroadcastReceiver receiver, IntentFilter filter) &#123; </div><div class="line">  return mBase.registerReceiver(receiver, filter); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public void unregisterReceiver(BroadcastReceiver receiver) &#123; </div><div class="line">  mBase.unregisterReceiver(receiver); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public ComponentName startService(Intent service) &#123; </div><div class="line">  return mBase.startService(service); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public boolean stopService(Intent name) &#123; </div><div class="line">  return mBase.stopService(name); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public boolean bindService(Intent service, ServiceConnection conn,  int flags) &#123; </div><div class="line">  return mBase.bindService(service, conn, flags); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public void unbindService(ServiceConnection conn) &#123; </div><div class="line">  mBase.unbindService(conn); </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public Object getSystemService(String name) &#123; </div><div class="line">  return mBase.getSystemService(name); </div><div class="line">  &#125; </div><div class="line">  ...... </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>由于ContextWrapper中的方法还是非常多的，我就进行了一些筛选，只贴出来了部分方法。那么上面的这些方法相信大家都是非常熟悉的，getResources()、getPackageName()、getSystemService()等等都是我们经常要用到的方法。那么所有这些方法的实现又是什么样的呢？其实所有ContextWrapper中方法的实现都非常统一，就是调用了mBase对象中对应当前方法名的方法。</p>
<p>那么这个mBase对象又是什么呢？我们来看第16行的attachBaseContext()方法，这个方法中传入了一个base参数，并把这个参数赋值给了mBase对象。而attachBaseContext()方法其实是由系统来调用的，它会把ContextImpl对象作为参数传递到attachBaseContext()方法当中，从而赋值给mBase对象，之后ContextWrapper中的所有方法其实都是通过这种委托的机制交由ContextImpl去具体实现的，所以说ContextImpl是上下文功能的实现类是非常准确的。</p>
<p>那么另外再看一下我们刚刚打印的getBaseContext()方法，在第26行。这个方法只有一行代码，就是返回了mBase对象而已，而mBase对象其实就是ContextImpl对象，因此刚才的打印结果也得到了印证。</p>
<h2 id="使用Application的问题"><a href="#使用Application的问题" class="headerlink" title="使用Application的问题"></a>使用Application的问题</h2><p>虽说Application的用法确实非常简单，但是我们平时的开发工作当中也着实存在着不少Application误用的场景，那么今天就来看一看有哪些比较容易犯错的地方是我们应该注意的。<br>Application是Context的其中一种类型，那么是否就意味着，只要是Application的实例，就能随时使用Context的各种方法呢？我们来做个实验试一下就知道了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public class MyApplication  extends Application &#123; </div><div class="line">  public MyApplication() &#123; </div><div class="line">  String packageName = getPackageName(); </div><div class="line">  Log.d( &quot;TAG&quot; ,  &quot;package name is &quot; + packageName); </div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这是一个非常简单的自定义Application，我们在MyApplication的构造方法当中获取了当前应用程序的包名，并打印出来。获取包名使用了getPackageName()方法，这个方法就是由Context提供的。那么上面的代码能正常运行吗？跑一下就知道了，你将会看到如下所示的结果：<br><img src="http://7xo1gw.com1.z0.glb.clouddn.com/android_context3.png" alt=""></p>
<p>应用程序一启动就立刻崩溃了，报的是一个空指针异常。看起来好像挺简单的一段代码，怎么就会成空指针了呢？但是如果你尝试把代码改成下面的写法，就会发现一切正常了：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public class MyApplication  extends Application &#123; </div><div class="line">  @Override </div><div class="line">  public void onCreate() &#123; </div><div class="line">  super .onCreate(); </div><div class="line">  String packageName = getPackageName(); </div><div class="line">  Log.d( &quot;TAG&quot; ,  &quot;package name is &quot; + packageName); </div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>运行结果如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">package name is com.example.androidtest</div></pre></td></tr></table></figure></p>
<p>在构造方法中调用Context的方法就会崩溃，在onCreate()方法中调用Context的方法就一切正常，那么这两个方法之间到底发生了什么事情呢？我们重新回顾一下ContextWrapper类的源码，ContextWrapper中有一个attachBaseContext()方法，这个方法会将传入的一个Context参数赋值给mBase对象，之后mBase对象就有值了。而我们又知道，所有Context的方法都是调用这个mBase对象的同名方法，那么也就是说如果在mBase对象还没赋值的情况下就去调用Context中的任何一个方法时，就会出现空指针异常，上面的代码就是这种情况。Application中方法的执行顺序如下图所示：<br><img src="http://7xo1gw.com1.z0.glb.clouddn.com/android_context2.png" alt=""></p>
<p>Application中在onCreate()方法里去初始化各种全局的变量数据是一种比较推荐的做法，但是如果你想把初始化的时间点提前到极致，也可以去重写attachBaseContext()方法，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public class MyApplication  extends Application &#123; </div><div class="line">  @Override </div><div class="line">  protected void attachBaseContext(Context base) &#123; </div><div class="line">  // 在这里调用Context的方法会崩溃 </div><div class="line">  super .attachBaseContext(base); </div><div class="line">  // 在这里可以正常调用Context的方法 </div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>以上是我们平时在使用Application时需要注意的一个点，下面再来介绍另外一种非常普遍的Application误用情况。<br>其实Android官方并不太推荐我们使用自定义的Application，基本上只有需要做一些全局初始化的时候可能才需要用到自定义Application，官方文档描述如下：</p>
<blockquote>
<p>There is normally no need to subclass Application. In most situation, static singletons can provide the same functionality in a more modular way. If your singleton needs a global context (for example to register broadcast receivers), the function to retrieve it can be given a Context which internally uses Context.getApplicationContext() when first constructing the singleton.</p>
</blockquote>
<p>但是就我的观察而言，现在自定义Application的使用情况基本上可以达到100%了，也就是我们平时自己写测试demo的时候可能不会使用，正式的项目几乎全部都会使用自定义Application。可是使用归使用，有不少项目对自定义Application的用法并不到位，正如官方文档中所表述的一样，多数项目只是把自定义Application当成了一个通用工具类，而这个功能并不需要借助Application来实现，使用单例可能是一种更加标准的方式。</p>
<p>不过自定义Application也并没有什么副作用，它和单例模式二选一都可以实现同样的功能，但是我见过有一些项目，会把自定义Application和单例模式混合到一起使用，这就让人大跌眼镜了。一个非常典型的例子如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">public class MyApplication  extends Application &#123; </div><div class="line">  private static MyApplication app; </div><div class="line">  public static MyApplication getInstance() &#123; </div><div class="line">  if (app ==  null ) &#123; </div><div class="line">  app =  new MyApplication(); </div><div class="line">  &#125; </div><div class="line">  return app; </div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>就像单例模式一样，这里提供了一个getInstance()方法，用于获取MyApplication的实例，有了这个实例之后，就可以调用MyApplication中的各种工具方法了。</p>
<p>但是这种写法对吗？这种写法是大错特错！因为我们知道Application是属于系统组件，系统组件的实例是要由系统来去创建的，如果这里我们自己去new一个MyApplication的实例，它就只是一个普通的Java对象而已，而不具备任何Context的能力。有很多人向我反馈使用 LitePal 时发生了空指针错误其实都是由于这个原因，因为你提供给LitePal的只是一个普通的Java对象，它无法通过这个对象来进行Context操作。</p>
<p>那么如果真的想要提供一个获取MyApplication实例的方法，比较标准的写法又是什么样的呢？其实这里我们只需谨记一点，Application全局只有一个，它本身就已经是单例了，无需再用单例模式去为它做多重实例保护了，代码如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public class MyApplication  extends Application &#123; </div><div class="line">  private static MyApplication app; </div><div class="line">  public static MyApplication getInstance() &#123; </div><div class="line">  return app; </div><div class="line">  &#125; </div><div class="line">  @Override </div><div class="line">  public void onCreate() &#123; </div><div class="line">  super .onCreate(); </div><div class="line">  app =  this ; </div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>getInstance()方法可以照常提供，但是里面不要做任何逻辑判断，直接返回app对象就可以了，而app对象又是什么呢？在onCreate()方法中我们将app对象赋值成this，this就是当前Application的实例，那么app也就是当前Application的实例了。</p>
<p>好了，关于Context的介绍就到这里吧，内容还是比较简单易懂的，希望大家通过这篇文章可以理解Context更多的细节，并且不要去犯使用Context时的一些低级错误。</p>
<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul>
<li><a href="http://developer.android.com/intl/zh-cn/reference/android/app/Application.html" target="_blank" rel="external">Developers-Application</a></li>
<li><a href="http://blog.csdn.net/guolin_blog/article/details/47028975" target="_blank" rel="external">你所不知道的Context的各种细节</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/14/android_context/" data-id="cj4zxopmi001cq4nh9qbqgty4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/context/">context</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android_code_collection" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/14/android_code_collection/" class="article-date">
  <time datetime="2015-12-14T03:09:29.000Z" itemprop="datePublished">2015-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/android/">android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/14/android_code_collection/">ANDROID开发必备的常用代码片段整理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>以下内容来自多个开源项目的整理和自己的项目积累</p>
<h3 id="1-拨打电话"><a href="#1-拨打电话" class="headerlink" title="1.拨打电话"></a>1.拨打电话</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">public static void call(Context context, String phoneNumber) &#123; </div><div class="line">  context.startActivity( new Intent(Intent.ACTION_CALL, Uri.parse( &quot;tel:&quot; + phoneNumber))); </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-跳转至拨号界面"><a href="#2-跳转至拨号界面" class="headerlink" title="2.跳转至拨号界面"></a>2.跳转至拨号界面</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">public static void callDial(Context context, String phoneNumber) &#123; </div><div class="line">  context.startActivity( new Intent(Intent.ACTION_DIAL, Uri.parse( &quot;tel:&quot; + phoneNumber))); </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-发送短信"><a href="#3-发送短信" class="headerlink" title="3.发送短信"></a>3.发送短信</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public static void sendSms(Context context, String phoneNumber, </div><div class="line">  String content) &#123; </div><div class="line">  Uri uri = Uri.parse( &quot;smsto:&quot; </div><div class="line">  + (TextUtils.isEmpty(phoneNumber) ?  &quot;&quot; : phoneNumber)); </div><div class="line">  Intent intent =  new Intent(Intent.ACTION_SENDTO, uri); </div><div class="line">  intent.putExtra( &quot;sms_body&quot; , TextUtils.isEmpty(content) ?  &quot;&quot; : content); </div><div class="line">  context.startActivity(intent); </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="4-唤醒屏幕并解锁"><a href="#4-唤醒屏幕并解锁" class="headerlink" title="4.唤醒屏幕并解锁"></a>4.唤醒屏幕并解锁</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">public static void wakeUpAndUnlock(Context context)&#123; </div><div class="line">  KeyguardManager km= (KeyguardManager) context.getSystemService(Context.KEYGUARD_SERVICE); </div><div class="line">  KeyguardManager.KeyguardLock kl = km.newKeyguardLock( &quot;unLock&quot; ); </div><div class="line">  //解锁 </div><div class="line">  kl.disableKeyguard(); </div><div class="line">  //获取电源管理器对象 </div><div class="line">  PowerManager pm=(PowerManager) context.getSystemService(Context.POWER_SERVICE); </div><div class="line">  //获取PowerManager.WakeLock对象,后面的参数|表示同时传入两个值,最后的是LogCat里用的Tag </div><div class="line">  PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.ACQUIRE_CAUSES_WAKEUP | PowerManager.SCREEN_DIM_WAKE_LOCK, &quot;bright&quot; ); </div><div class="line">  //点亮屏幕 </div><div class="line">  wl.acquire(); </div><div class="line">  //释放 </div><div class="line">  wl.release(); </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>需要添加权限<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt; uses-permission android:name = &quot;android.permission.WAKE_LOCK&quot; /&gt; </div><div class="line">&lt; uses-permission android:name = &quot;android.permission.DISABLE_KEYGUARD&quot; /&gt;</div></pre></td></tr></table></figure></p>
<h3 id="5-判断当前App处于前台还是后台状态"><a href="#5-判断当前App处于前台还是后台状态" class="headerlink" title="5.判断当前App处于前台还是后台状态"></a>5.判断当前App处于前台还是后台状态</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">public static boolean isApplicationBackground( final Context context) &#123; </div><div class="line">  ActivityManager am = (ActivityManager) context </div><div class="line">  .getSystemService(Context.ACTIVITY_SERVICE); </div><div class="line">  @SuppressWarnings ( &quot;deprecation&quot; ) </div><div class="line">  List&amp;lt;ActivityManager.RunningTaskInfo&amp;gt; tasks = am.getRunningTasks( 1 ); </div><div class="line">  if (!tasks.isEmpty()) &#123; </div><div class="line">  ComponentName topActivity = tasks.get( 0 ).topActivity; </div><div class="line">  if (!topActivity.getPackageName().equals(context.getPackageName())) &#123; </div><div class="line">  return true ; </div><div class="line">  &#125; </div><div class="line">  &#125; </div><div class="line">  return false ; </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>需要添加权限<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt; uses-permission </div><div class="line"></div><div class="line"> android:name=&quot;android.permission.GET_TASKS&quot; /&gt;</div></pre></td></tr></table></figure></p>
<h3 id="6-判断当前手机是否处于锁屏-睡眠-状态"><a href="#6-判断当前手机是否处于锁屏-睡眠-状态" class="headerlink" title="6.判断当前手机是否处于锁屏(睡眠)状态"></a>6.判断当前手机是否处于锁屏(睡眠)状态</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public static boolean isSleeping(Context context) &#123; </div><div class="line">  KeyguardManager kgMgr = (KeyguardManager) context </div><div class="line">  .getSystemService(Context.KEYGUARD_SERVICE); </div><div class="line">  boolean isSleeping = kgMgr.inKeyguardRestrictedInputMode(); </div><div class="line">  return isSleeping; </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="7-判断当前是否有网络连接"><a href="#7-判断当前是否有网络连接" class="headerlink" title="7.判断当前是否有网络连接"></a>7.判断当前是否有网络连接</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">public static boolean isOnline(Context context) &#123; </div><div class="line">  ConnectivityManager manager = (ConnectivityManager) context </div><div class="line">  .getSystemService(Activity.CONNECTIVITY_SERVICE); </div><div class="line">  NetworkInfo info = manager.getActiveNetworkInfo(); </div><div class="line">  if (info !=  null &amp;amp;&amp;amp; info.isConnected()) &#123; </div><div class="line">  return true ; </div><div class="line">  &#125; </div><div class="line">  return false ; </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="8-判断当前是否是WIFI连接状态"><a href="#8-判断当前是否是WIFI连接状态" class="headerlink" title="8.判断当前是否是WIFI连接状态"></a>8.判断当前是否是WIFI连接状态</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">public static boolean isWifiConnected(Context context) &#123; </div><div class="line">  ConnectivityManager connectivityManager = (ConnectivityManager) context </div><div class="line">  .getSystemService(Context.CONNECTIVITY_SERVICE); </div><div class="line">  NetworkInfo wifiNetworkInfo = connectivityManager </div><div class="line">  .getNetworkInfo(ConnectivityManager.TYPE_WIFI); </div><div class="line">  if (wifiNetworkInfo.isConnected()) &#123; </div><div class="line">  return true ; </div><div class="line">  &#125; </div><div class="line">  return false ; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="9-安装APK"><a href="#9-安装APK" class="headerlink" title="9.安装APK"></a>9.安装APK</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">public static void installApk(Context context, File file) &#123; </div><div class="line">  Intent intent =  new Intent(); </div><div class="line">  intent.setAction( &quot;android.intent.action.VIEW&quot; ); </div><div class="line">  intent.addCategory( &quot;android.intent.category.DEFAULT&quot; ); </div><div class="line">  intent.setType( &quot;application/vnd.android.package-archive&quot; ); </div><div class="line">  intent.setDataAndType(Uri.fromFile(file), </div><div class="line">  &quot;application/vnd.android.package-archive&quot; ); </div><div class="line">  intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK); </div><div class="line">  context.startActivity(intent); </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="10-判断当前设备是否为手机"><a href="#10-判断当前设备是否为手机" class="headerlink" title="10.判断当前设备是否为手机"></a>10.判断当前设备是否为手机</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">public static boolean isPhone(Context context) &#123; </div><div class="line">  TelephonyManager telephony = (TelephonyManager) context </div><div class="line">  .getSystemService(Context.TELEPHONY_SERVICE); </div><div class="line">  if (telephony.getPhoneType() == TelephonyManager.PHONE_TYPE_NONE) &#123; </div><div class="line">  return false ; </div><div class="line">  &#125;  else &#123; </div><div class="line">  return true ; </div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="11-获取当前设备宽高，单位px"><a href="#11-获取当前设备宽高，单位px" class="headerlink" title="11.获取当前设备宽高，单位px"></a>11.获取当前设备宽高，单位px</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">@SuppressWarnings ( &quot;deprecation&quot; ) </div><div class="line">public static int getDeviceWidth(Context context) &#123; </div><div class="line">  WindowManager manager = (WindowManager) context </div><div class="line">  .getSystemService(Context.WINDOW_SERVICE); </div><div class="line">  return manager.getDefaultDisplay().getWidth(); </div><div class="line">&#125; </div><div class="line">@SuppressWarnings ( &quot;deprecation&quot; ) </div><div class="line">public static int getDeviceHeight(Context context) &#123; </div><div class="line">  WindowManager manager = (WindowManager) context </div><div class="line">  .getSystemService(Context.WINDOW_SERVICE); </div><div class="line">  return manager.getDefaultDisplay().getHeight(); </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="12-获取当前设备的IMEI，需要与上面的isPhone-一起使用"><a href="#12-获取当前设备的IMEI，需要与上面的isPhone-一起使用" class="headerlink" title="12.获取当前设备的IMEI，需要与上面的isPhone()一起使用"></a>12.获取当前设备的IMEI，需要与上面的isPhone()一起使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">@TargetApi (Build.VERSION_CODES.CUPCAKE) </div><div class="line">public static String getDeviceIMEI(Context context) &#123; </div><div class="line">  String deviceId; </div><div class="line">  if (isPhone(context)) &#123; </div><div class="line">  TelephonyManager telephony = (TelephonyManager) context </div><div class="line">  .getSystemService(Context.TELEPHONY_SERVICE); </div><div class="line">  deviceId = telephony.getDeviceId(); </div><div class="line">  &#125;  else &#123; </div><div class="line">  deviceId = Settings.Secure.getString(context.getContentResolver(), </div><div class="line">  Settings.Secure.ANDROID_ID); </div><div class="line">  &#125; </div><div class="line">  return deviceId; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="13-获取当前设备的MAC地址"><a href="#13-获取当前设备的MAC地址" class="headerlink" title="13.获取当前设备的MAC地址"></a>13.获取当前设备的MAC地址</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">public static String getMacAddress(Context context) &#123; </div><div class="line">  String macAddress; </div><div class="line">  WifiManager wifi = (WifiManager) context </div><div class="line">  .getSystemService(Context.WIFI_SERVICE); </div><div class="line">  WifiInfo info = wifi.getConnectionInfo(); </div><div class="line">  macAddress = info.getMacAddress(); </div><div class="line">  if ( null == macAddress) &#123; </div><div class="line">  return &quot;&quot; ; </div><div class="line">  &#125; </div><div class="line">  macAddress = macAddress.replace( &quot;:&quot; ,  &quot;&quot; ); </div><div class="line">  return macAddress; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="14-获取当前程序的版本号"><a href="#14-获取当前程序的版本号" class="headerlink" title="14.获取当前程序的版本号"></a>14.获取当前程序的版本号</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">public static String getAppVersion(Context context) &#123; </div><div class="line">  String version =  &quot;0&quot; ; </div><div class="line">  try &#123; </div><div class="line">  version = context.getPackageManager().getPackageInfo( </div><div class="line">  context.getPackageName(),  0 ).versionName; </div><div class="line">  &#125;  catch (PackageManager.NameNotFoundException e) &#123; </div><div class="line">  e.printStackTrace(); </div><div class="line">  &#125; </div><div class="line">  return version; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="15-收集设备信息，用于信息统计分析"><a href="#15-收集设备信息，用于信息统计分析" class="headerlink" title="15.收集设备信息，用于信息统计分析"></a>15.收集设备信息，用于信息统计分析</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">public static Properties collectDeviceInfo(Context context) &#123; </div><div class="line">  Properties mDeviceCrashInfo =  new Properties(); </div><div class="line">  try &#123; </div><div class="line">  PackageManager pm = context.getPackageManager(); </div><div class="line">  PackageInfo pi = pm.getPackageInfo(context.getPackageName(), </div><div class="line">  PackageManager.GET_ACTIVITIES); </div><div class="line">  if (pi !=  null ) &#123; </div><div class="line">  mDeviceCrashInfo.put(VERSION_NAME, </div><div class="line">  pi.versionName ==  null ?  &quot;not set&quot; : pi.versionName); </div><div class="line">  mDeviceCrashInfo.put(VERSION_CODE, pi.versionCode); </div><div class="line">  &#125; </div><div class="line">  &#125;  catch (PackageManager.NameNotFoundException e) &#123; </div><div class="line">  Log.e(TAG,  &quot;Error while collect package info&quot; , e); </div><div class="line">  &#125; </div><div class="line">  Field[] fields = Build. class .getDeclaredFields(); </div><div class="line">  for (Field field : fields) &#123; </div><div class="line">  try &#123; </div><div class="line">  field.setAccessible( true ); </div><div class="line">  mDeviceCrashInfo.put(field.getName(), field.get( null )); </div><div class="line">  &#125;  catch (Exception e) &#123; </div><div class="line">  Log.e(TAG,  &quot;Error while collect crash info&quot; , e); </div><div class="line">  &#125; </div><div class="line">  &#125; </div><div class="line">  return mDeviceCrashInfo; </div><div class="line">  &#125; </div><div class="line">public static String collectDeviceInfoStr(Context context) &#123; </div><div class="line">  Properties prop = collectDeviceInfo(context); </div><div class="line">  Set deviceInfos = prop.keySet(); </div><div class="line">  StringBuilder deviceInfoStr =  new StringBuilder( &quot;&#123;\n&quot; ); </div><div class="line">  for (Iterator iter = deviceInfos.iterator(); iter.hasNext();) &#123; </div><div class="line">  Object item = iter.next(); </div><div class="line">  deviceInfoStr.append( &quot;\t\t\t&quot; + item +  &quot;:&quot; + prop.get(item) </div><div class="line">  +  &quot;, \n&quot; ); </div><div class="line">  &#125; </div><div class="line">  deviceInfoStr.append( &quot;&#125;&quot; ); </div><div class="line">  return deviceInfoStr.toString(); </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="16-是否有SD卡"><a href="#16-是否有SD卡" class="headerlink" title="16.是否有SD卡"></a>16.是否有SD卡</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">public static boolean haveSDCard() &#123; </div><div class="line">  return android.os.Environment.getExternalStorageState().equals( </div><div class="line">  android.os.Environment.MEDIA_MOUNTED); </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="17-动态隐藏软键盘"><a href="#17-动态隐藏软键盘" class="headerlink" title="17.动态隐藏软键盘"></a>17.动态隐藏软键盘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">@TargetApi (Build.VERSION_CODES.CUPCAKE) </div><div class="line">  public static void hideSoftInput(Activity activity) &#123; </div><div class="line">  View view = activity.getWindow().peekDecorView(); </div><div class="line">  if (view !=  null ) &#123; </div><div class="line">  InputMethodManager inputmanger = (InputMethodManager) activity </div><div class="line">  .getSystemService(Context.INPUT_METHOD_SERVICE); </div><div class="line">  inputmanger.hideSoftInputFromWindow(view.getWindowToken(),  0 ); </div><div class="line">  &#125; </div><div class="line">  &#125; </div><div class="line"></div><div class="line">@TargetApi (Build.VERSION_CODES.CUPCAKE) </div><div class="line">public static void hideSoftInput(Context context, EditText edit) &#123; </div><div class="line">  edit.clearFocus(); </div><div class="line">  InputMethodManager inputmanger = (InputMethodManager) context </div><div class="line">  .getSystemService(Context.INPUT_METHOD_SERVICE); </div><div class="line">  inputmanger.hideSoftInputFromWindow(edit.getWindowToken(),  0 ); </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="18-动态显示软键盘"><a href="#18-动态显示软键盘" class="headerlink" title="18.动态显示软键盘"></a>18.动态显示软键盘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">@TargetApi (Build.VERSION_CODES.CUPCAKE) </div><div class="line">public static void showSoftInput(Context context, EditText edit) &#123; </div><div class="line">  edit.setFocusable( true ); </div><div class="line">  edit.setFocusableInTouchMode( true ); </div><div class="line">  edit.requestFocus(); </div><div class="line">  InputMethodManager inputManager = (InputMethodManager) context </div><div class="line">  .getSystemService(Context.INPUT_METHOD_SERVICE); </div><div class="line">  inputManager.showSoftInput(edit,  0 ); </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="19-动态显示或者是隐藏软键盘"><a href="#19-动态显示或者是隐藏软键盘" class="headerlink" title="19.动态显示或者是隐藏软键盘"></a>19.动态显示或者是隐藏软键盘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">@TargetApi (Build.VERSION_CODES.CUPCAKE) </div><div class="line">public static void toggleSoftInput(Context context, EditText edit) &#123; </div><div class="line">  edit.setFocusable( true ); </div><div class="line">  edit.setFocusableInTouchMode( true ); </div><div class="line">  edit.requestFocus(); </div><div class="line">  InputMethodManager inputManager = (InputMethodManager) context </div><div class="line">  .getSystemService(Context.INPUT_METHOD_SERVICE); </div><div class="line">  inputManager.toggleSoftInput(InputMethodManager.SHOW_FORCED,  0 ); </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="20-主动回到Home，后台运行"><a href="#20-主动回到Home，后台运行" class="headerlink" title="20.主动回到Home，后台运行"></a>20.主动回到Home，后台运行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public static void goHome(Context context) &#123; </div><div class="line">  Intent mHomeIntent =  new Intent(Intent.ACTION_MAIN); </div><div class="line">  mHomeIntent.addCategory(Intent.CATEGORY_HOME); </div><div class="line">  mHomeIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK </div><div class="line">  | Intent.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED); </div><div class="line">  context.startActivity(mHomeIntent); </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="21-获取状态栏高度"><a href="#21-获取状态栏高度" class="headerlink" title="21.获取状态栏高度"></a>21.获取状态栏高度</h3><p>注意，要在onWindowFocusChanged中调用，在onCreate中获取高度为0<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">@TargetApi (Build.VERSION_CODES.CUPCAKE) </div><div class="line">public static int getStatusBarHeight(Activity activity) &#123; </div><div class="line">  Rect frame =  new Rect(); </div><div class="line">  activity.getWindow().getDecorView().getWindowVisibleDisplayFrame(frame); </div><div class="line">  return frame.top; </div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<h3 id="22-获取状态栏高度＋标题栏-ActionBar-高度"><a href="#22-获取状态栏高度＋标题栏-ActionBar-高度" class="headerlink" title="22.获取状态栏高度＋标题栏(ActionBar)高度"></a>22.获取状态栏高度＋标题栏(ActionBar)高度</h3><p>(注意，如果没有ActionBar，那么获取的高度将和上面的是一样的，只有状态栏的高度)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">public static int getTopBarHeight(Activity activity) &#123;</div><div class="line">        return activity.getWindow().findViewById(Window.ID_ANDROID_CONTENT)</div><div class="line">                .getTop();</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<h3 id="23-获取MCC-MNC代码-SIM卡运营商国家代码和运营商网络代码"><a href="#23-获取MCC-MNC代码-SIM卡运营商国家代码和运营商网络代码" class="headerlink" title="23.获取MCC+MNC代码 (SIM卡运营商国家代码和运营商网络代码)"></a>23.获取MCC+MNC代码 (SIM卡运营商国家代码和运营商网络代码)</h3><p>仅当用户已在网络注册时有效, CDMA 可能会无效（中国移动：46000 46002, 中国联通：46001,中国电信：46003）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">public static String getNetworkOperator(Context context) &#123; </div><div class="line">  TelephonyManager telephonyManager = (TelephonyManager) context </div><div class="line">  .getSystemService(Context.TELEPHONY_SERVICE); </div><div class="line">  return telephonyManager.getNetworkOperator(); </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="24-返回移动网络运营商的名字"><a href="#24-返回移动网络运营商的名字" class="headerlink" title="24.返回移动网络运营商的名字"></a>24.返回移动网络运营商的名字</h3><p>(例：中国联通、中国移动、中国电信) 仅当用户已在网络注册时有效, CDMA 可能会无效)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">public static String getNetworkOperatorName(Context context) &#123; </div><div class="line">  TelephonyManager telephonyManager = (TelephonyManager) context </div><div class="line">  .getSystemService(Context.TELEPHONY_SERVICE); </div><div class="line">  return telephonyManager.getNetworkOperatorName(); </div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<h3 id="25-返回移动终端类型"><a href="#25-返回移动终端类型" class="headerlink" title="25.返回移动终端类型"></a>25.返回移动终端类型</h3><ul>
<li>PHONE_TYPE_NONE :0 手机制式未知</li>
<li>PHONE_TYPE_GSM :1 手机制式为GSM，移动和联通</li>
<li>PHONE_TYPE_CDMA :2 手机制式为CDMA，电信</li>
<li>PHONE_TYPE_SIP:3</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">public static int getPhoneType(Context context) &#123; </div><div class="line">  TelephonyManager telephonyManager = (TelephonyManager) context </div><div class="line">  .getSystemService(Context.TELEPHONY_SERVICE); </div><div class="line">  return telephonyManager.getPhoneType(); </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="26-判断手机连接的网络类型-2G-3G-4G"><a href="#26-判断手机连接的网络类型-2G-3G-4G" class="headerlink" title="26.判断手机连接的网络类型(2G,3G,4G)"></a>26.判断手机连接的网络类型(2G,3G,4G)</h3><p>联通的3G为UMTS或HSDPA，移动和联通的2G为GPRS或EGDE，电信的2G为CDMA，电信的3G为EVDO<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line">public class Constants &#123; </div><div class="line">  /** </div><div class="line">  * Unknown network class </div><div class="line">  */ </div><div class="line">  public static final int NETWORK_CLASS_UNKNOWN =  0 ; </div><div class="line">  /** </div><div class="line">  * wifi net work </div><div class="line">  */ </div><div class="line">  public static final int NETWORK_WIFI =  1 ; </div><div class="line">  /** </div><div class="line">  * &quot;2G&quot; networks </div><div class="line">  */ </div><div class="line">  public static final int NETWORK_CLASS_2_G =  2 ; </div><div class="line">  /** </div><div class="line">  * &quot;3G&quot; networks </div><div class="line">  */ </div><div class="line">  public static final int NETWORK_CLASS_3_G =  3 ; </div><div class="line">  /** </div><div class="line">  * &quot;4G&quot; networks </div><div class="line">  */ </div><div class="line">  public static final int NETWORK_CLASS_4_G =  4 ; </div><div class="line">&#125; </div><div class="line"></div><div class="line">public static int getNetWorkClass(Context context) &#123; </div><div class="line">  TelephonyManager telephonyManager = (TelephonyManager) context </div><div class="line">  .getSystemService(Context.TELEPHONY_SERVICE); </div><div class="line">  switch (telephonyManager.getNetworkType()) &#123; </div><div class="line">  case TelephonyManager.NETWORK_TYPE_GPRS: </div><div class="line">  case TelephonyManager.NETWORK_TYPE_EDGE: </div><div class="line">  case TelephonyManager.NETWORK_TYPE_CDMA: </div><div class="line">  case TelephonyManager.NETWORK_TYPE_1xRTT: </div><div class="line">  case TelephonyManager.NETWORK_TYPE_IDEN: </div><div class="line">  return Constants.NETWORK_CLASS_2_G; </div><div class="line">  case TelephonyManager.NETWORK_TYPE_UMTS: </div><div class="line">  case TelephonyManager.NETWORK_TYPE_EVDO_0: </div><div class="line">  case TelephonyManager.NETWORK_TYPE_EVDO_A: </div><div class="line">  case TelephonyManager.NETWORK_TYPE_HSDPA: </div><div class="line">  case TelephonyManager.NETWORK_TYPE_HSUPA: </div><div class="line">  case TelephonyManager.NETWORK_TYPE_HSPA: </div><div class="line">  case TelephonyManager.NETWORK_TYPE_EVDO_B: </div><div class="line">  case TelephonyManager.NETWORK_TYPE_EHRPD: </div><div class="line">  case TelephonyManager.NETWORK_TYPE_HSPAP: </div><div class="line">  return Constants.NETWORK_CLASS_3_G; </div><div class="line">  case TelephonyManager.NETWORK_TYPE_LTE: </div><div class="line">  return Constants.NETWORK_CLASS_4_G; </div><div class="line">  default : </div><div class="line">  return Constants.NETWORK_CLASS_UNKNOWN; </div><div class="line">  &#125; </div><div class="line"></div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>
<h3 id="27-判断当前手机的网络类型-WIFI还是2-3-4G"><a href="#27-判断当前手机的网络类型-WIFI还是2-3-4G" class="headerlink" title="27.判断当前手机的网络类型(WIFI还是2,3,4G)"></a>27.判断当前手机的网络类型(WIFI还是2,3,4G)</h3><p>需要用到上面的方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">public static int getNetWorkStatus(Context context) &#123; </div><div class="line">  int netWorkType = Constants.NETWORK_CLASS_UNKNOWN; </div><div class="line">  ConnectivityManager connectivityManager = (ConnectivityManager) context </div><div class="line">  .getSystemService(Context.CONNECTIVITY_SERVICE); </div><div class="line">  NetworkInfo networkInfo = connectivityManager.getActiveNetworkInfo(); </div><div class="line">  if (networkInfo !=  null &amp;amp;&amp;amp; networkInfo.isConnected()) &#123; </div><div class="line">  int type = networkInfo.getType(); </div><div class="line">  if (type == ConnectivityManager.TYPE_WIFI) &#123; </div><div class="line">  netWorkType = Constants.NETWORK_WIFI; </div><div class="line">  &#125;  else if (type == ConnectivityManager.TYPE_MOBILE) &#123; </div><div class="line">  netWorkType = getNetWorkClass(context); </div><div class="line">  &#125; </div><div class="line">  &#125; </div><div class="line">  return netWorkType; </div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<h3 id="28-px-sp转换"><a href="#28-px-sp转换" class="headerlink" title="28.px-sp转换"></a>28.px-sp转换</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">public static int px2sp(Context context,  float pxValue) &#123; </div><div class="line">  final float fontScale = context.getResources().getDisplayMetrics().scaledDensity; </div><div class="line">  return ( int ) (pxValue / fontScale +  0 .5f); </div><div class="line">  &#125; </div><div class="line">public static int sp2px(Context context,  float spValue) &#123; </div><div class="line">  final float fontScale = context.getResources().getDisplayMetrics().scaledDensity; </div><div class="line">  return ( int ) (spValue * fontScale +  0 .5f); </div><div class="line"></div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h3 id="29-把一个毫秒数转化成时间字符串"><a href="#29-把一个毫秒数转化成时间字符串" class="headerlink" title="29.把一个毫秒数转化成时间字符串"></a>29.把一个毫秒数转化成时间字符串</h3><p>格式为小时/分/秒/毫秒（如：24903600 –&gt; 06小时55分03秒600毫秒）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line">/** </div><div class="line">  * @param millis </div><div class="line">  * 要转化的毫秒数。 </div><div class="line">  * @param isWhole </div><div class="line">  * 是否强制全部显示小时/分/秒/毫秒。 </div><div class="line">  * @param isFormat </div><div class="line">  * 时间数字是否要格式化，如果true：少位数前面补全；如果false：少位数前面不补全。 </div><div class="line">  * @return 返回时间字符串：小时/分/秒/毫秒的格式（如：24903600 --&amp;gt; 06小时55分03秒600毫秒）。 </div><div class="line">  */ </div><div class="line">  public static String millisToString( long millis,  boolean isWhole, </div><div class="line">  boolean isFormat) &#123; </div><div class="line">  String h =  &quot;&quot; ; </div><div class="line">  String m =  &quot;&quot; ; </div><div class="line">  String s =  &quot;&quot; ; </div><div class="line">  String mi =  &quot;&quot; ; </div><div class="line">  if (isWhole) &#123; </div><div class="line">  h = isFormat ?  &quot;00小时&quot; :  &quot;0小时&quot; ; </div><div class="line">  m = isFormat ?  &quot;00分&quot; :  &quot;0分&quot; ; </div><div class="line">  s = isFormat ?  &quot;00秒&quot; :  &quot;0秒&quot; ; </div><div class="line">  mi = isFormat ?  &quot;00毫秒&quot; :  &quot;0毫秒&quot; ; </div><div class="line">  &#125; </div><div class="line">  long temp = millis; </div><div class="line">  long hper =  60 *  60 *  1000 ; </div><div class="line">  long mper =  60 *  1000 ; </div><div class="line">  long sper =  1000 ; </div><div class="line">  if (temp / hper &amp;gt;  0 ) &#123; </div><div class="line">  if (isFormat) &#123; </div><div class="line">  h = temp / hper &amp;lt;  10 ?  &quot;0&quot; + temp / hper : temp / hper +  &quot;&quot; ; </div><div class="line">  &#125;  else &#123; </div><div class="line">  h = temp / hper +  &quot;&quot; ; </div><div class="line">  &#125; </div><div class="line">  h +=  &quot;小时&quot; ; </div><div class="line">  &#125; </div><div class="line">  temp = temp % hper; </div><div class="line">  if (temp / mper &amp;gt;  0 ) &#123; </div><div class="line">  if (isFormat) &#123; </div><div class="line">  m = temp / mper &amp;lt;  10 ?  &quot;0&quot; + temp / mper : temp / mper +  &quot;&quot; ; </div><div class="line">  &#125;  else &#123; </div><div class="line">  m = temp / mper +  &quot;&quot; ; </div><div class="line">  &#125; </div><div class="line">  m +=  &quot;分&quot; ; </div><div class="line">  &#125; </div><div class="line">  temp = temp % mper; </div><div class="line">  if (temp / sper &amp;gt;  0 ) &#123; </div><div class="line">  if (isFormat) &#123; </div><div class="line">  s = temp / sper &amp;lt;  10 ?  &quot;0&quot; + temp / sper : temp / sper +  &quot;&quot; ; </div><div class="line">  &#125;  else &#123; </div><div class="line">  s = temp / sper +  &quot;&quot; ; </div><div class="line">  &#125; </div><div class="line">  s +=  &quot;秒&quot; ; </div><div class="line">  &#125; </div><div class="line">  temp = temp % sper; </div><div class="line">  mi = temp +  &quot;&quot; ; </div><div class="line">  if (isFormat) &#123; </div><div class="line">  if (temp &amp;lt;  100 &amp;amp;&amp;amp; temp &amp;gt;=  10 ) &#123; </div><div class="line">  mi =  &quot;0&quot; + temp; </div><div class="line">  &#125; </div><div class="line">  if (temp &amp;lt;  10 ) &#123; </div><div class="line">  mi =  &quot;00&quot; + temp; </div><div class="line">  &#125; </div><div class="line">  &#125; </div><div class="line">  mi +=  &quot;毫秒&quot; ; </div><div class="line">  return h + m + s + mi; </div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<h3 id="30-格式为小时-分-秒-毫秒（如：24903600-–-gt-06小时55分03秒）。"><a href="#30-格式为小时-分-秒-毫秒（如：24903600-–-gt-06小时55分03秒）。" class="headerlink" title="30.格式为小时/分/秒/毫秒（如：24903600 –&gt; 06小时55分03秒）。"></a>30.格式为小时/分/秒/毫秒（如：24903600 –&gt; 06小时55分03秒）。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">/** </div><div class="line">  * </div><div class="line">  * @param millis </div><div class="line">  * 要转化的毫秒数。 </div><div class="line">  * @param isWhole </div><div class="line">  * 是否强制全部显示小时/分/秒/毫秒。 </div><div class="line">  * @param isFormat </div><div class="line">  * 时间数字是否要格式化，如果true：少位数前面补全；如果false：少位数前面不补全。 </div><div class="line">  * @return 返回时间字符串：小时/分/秒/毫秒的格式（如：24903600 --&amp;gt; 06小时55分03秒）。 </div><div class="line">  */ </div><div class="line">  public static String millisToStringMiddle( long millis,  boolean isWhole, </div><div class="line">  boolean isFormat) &#123; </div><div class="line">  return millisToStringMiddle(millis, isWhole, isFormat,  &quot;小时&quot; ,  &quot;分钟&quot; ,  &quot;秒&quot; ); </div><div class="line">  &#125; </div><div class="line">  public static String millisToStringMiddle( long millis,  boolean isWhole, </div><div class="line">  boolean isFormat, String hUnit, String mUnit, String sUnit) &#123; </div><div class="line">  String h =  &quot;&quot; ; </div><div class="line">  String m =  &quot;&quot; ; </div><div class="line">  String s =  &quot;&quot; ; </div><div class="line">  if (isWhole) &#123; </div><div class="line">  h = isFormat ?  &quot;00&quot; + hUnit :  &quot;0&quot; + hUnit; </div><div class="line">  m = isFormat ?  &quot;00&quot; + mUnit :  &quot;0&quot; + mUnit; </div><div class="line">  s = isFormat ?  &quot;00&quot; + sUnit :  &quot;0&quot; + sUnit; </div><div class="line">  &#125; </div><div class="line">  long temp = millis; </div><div class="line">  long hper =  60 *  60 *  1000 ; </div><div class="line">  long mper =  60 *  1000 ; </div><div class="line">  long sper =  1000 ; </div><div class="line">  if (temp / hper &amp;gt;  0 ) &#123; </div><div class="line">  if (isFormat) &#123; </div><div class="line">  h = temp / hper &amp;lt;  10 ?  &quot;0&quot; + temp / hper : temp / hper +  &quot;&quot; ; </div><div class="line">  &#125;  else &#123; </div><div class="line">  h = temp / hper +  &quot;&quot; ; </div><div class="line">  &#125; </div><div class="line">  h += hUnit; </div><div class="line">  &#125; </div><div class="line">  temp = temp % hper; </div><div class="line">  if (temp / mper &amp;gt;  0 ) &#123; </div><div class="line">  if (isFormat) &#123; </div><div class="line">  m = temp / mper &amp;lt;  10 ?  &quot;0&quot; + temp / mper : temp / mper +  &quot;&quot; ; </div><div class="line">  &#125;  else &#123; </div><div class="line">  m = temp / mper +  &quot;&quot; ; </div><div class="line">  &#125; </div><div class="line">  m += mUnit; </div><div class="line">  &#125; </div><div class="line">  temp = temp % mper; </div><div class="line">  if (temp / sper &amp;gt;  0 ) &#123; </div><div class="line">  if (isFormat) &#123; </div><div class="line">  s = temp / sper &amp;lt;  10 ?  &quot;0&quot; + temp / sper : temp / sper +  &quot;&quot; ; </div><div class="line">  &#125;  else &#123; </div><div class="line">  s = temp / sper +  &quot;&quot; ; </div><div class="line">  &#125; </div><div class="line">  s += sUnit; </div><div class="line">  &#125; </div><div class="line">  return h + m + s; </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="31-把一个毫秒数转化成时间字符串。格式为小时-分-秒-毫秒（如：24903600-–-gt-06小时55分钟）"><a href="#31-把一个毫秒数转化成时间字符串。格式为小时-分-秒-毫秒（如：24903600-–-gt-06小时55分钟）" class="headerlink" title="31.把一个毫秒数转化成时间字符串。格式为小时/分/秒/毫秒（如：24903600 –&gt; 06小时55分钟）"></a>31.把一个毫秒数转化成时间字符串。格式为小时/分/秒/毫秒（如：24903600 –&gt; 06小时55分钟）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">    </div><div class="line">/** </div><div class="line">  * </div><div class="line">  * @param millis </div><div class="line">  * 要转化的毫秒数。 </div><div class="line">  * @param isWhole </div><div class="line">  * 是否强制全部显示小时/分。 </div><div class="line">  * @param isFormat </div><div class="line">  * 时间数字是否要格式化，如果true：少位数前面补全；如果false：少位数前面不补全。 </div><div class="line">  * @return 返回时间字符串：小时/分/秒/毫秒的格式（如：24903600 --&amp;gt; 06小时55分钟）。 </div><div class="line">  */ </div><div class="line">  public static String millisToStringShort( long millis,  boolean isWhole, </div><div class="line">  boolean isFormat) &#123; </div><div class="line">  String h =  &quot;&quot; ; </div><div class="line">  String m =  &quot;&quot; ; </div><div class="line">  if (isWhole) &#123; </div><div class="line">  h = isFormat ?  &quot;00小时&quot; :  &quot;0小时&quot; ; </div><div class="line">  m = isFormat ?  &quot;00分钟&quot; :  &quot;0分钟&quot; ; </div><div class="line">  &#125; </div><div class="line">  long temp = millis; </div><div class="line">  long hper =  60 *  60 *  1000 ; </div><div class="line">  long mper =  60 *  1000 ; </div><div class="line">  long sper =  1000 ; </div><div class="line">  if (temp / hper &amp;gt;  0 ) &#123; </div><div class="line">  if (isFormat) &#123; </div><div class="line">  h = temp / hper &amp;lt;  10 ?  &quot;0&quot; + temp / hper : temp / hper +  &quot;&quot; ; </div><div class="line">  &#125;  else &#123; </div><div class="line">  h = temp / hper +  &quot;&quot; ; </div><div class="line">  &#125; </div><div class="line">  h +=  &quot;小时&quot; ; </div><div class="line">  &#125; </div><div class="line">  temp = temp % hper; </div><div class="line">  if (temp / mper &amp;gt;  0 ) &#123; </div><div class="line">  if (isFormat) &#123; </div><div class="line">  m = temp / mper &amp;lt;  10 ?  &quot;0&quot; + temp / mper : temp / mper +  &quot;&quot; ; </div><div class="line">  &#125;  else &#123; </div><div class="line">  m = temp / mper +  &quot;&quot; ; </div><div class="line">  &#125; </div><div class="line">  m +=  &quot;分钟&quot; ; </div><div class="line">  &#125; </div><div class="line">  return h + m; </div><div class="line"></div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h3 id="32-把日期毫秒转化为字符串"><a href="#32-把日期毫秒转化为字符串" class="headerlink" title="32.把日期毫秒转化为字符串"></a>32.把日期毫秒转化为字符串</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">/** </div><div class="line">  * @param millis </div><div class="line">  * 要转化的日期毫秒数。 </div><div class="line">  * @param pattern </div><div class="line">  * 要转化为的字符串格式（如：yyyy-MM-dd HH:mm:ss）。 </div><div class="line">  * @return 返回日期字符串。 </div><div class="line">  */ </div><div class="line">  public static String millisToStringDate( long millis, String pattern) &#123; </div><div class="line">  SimpleDateFormat format =  new SimpleDateFormat(pattern, </div><div class="line">  Locale.getDefault()); </div><div class="line">  return format.format( new Date(millis)); </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="33-把日期毫秒转化为字符串（文件名）"><a href="#33-把日期毫秒转化为字符串（文件名）" class="headerlink" title="33.把日期毫秒转化为字符串（文件名）"></a>33.把日期毫秒转化为字符串（文件名）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">    </div><div class="line">/** </div><div class="line">  * @param millis </div><div class="line">  * 要转化的日期毫秒数。 </div><div class="line">  * @param pattern </div><div class="line">  * 要转化为的字符串格式（如：yyyy-MM-dd HH:mm:ss）。 </div><div class="line">  * @return 返回日期字符串（yyyy_MM_dd_HH_mm_ss）。 </div><div class="line">  */ </div><div class="line">  public static String millisToStringFilename( long millis, String pattern) &#123; </div><div class="line">  String dateStr = millisToStringDate(millis, pattern); </div><div class="line">  return dateStr.replaceAll( &quot;[- :]&quot; ,  &quot;_&quot; ); </div><div class="line"></div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h3 id="34-转换当前时间为易用时间格式"><a href="#34-转换当前时间为易用时间格式" class="headerlink" title="34.转换当前时间为易用时间格式"></a>34.转换当前时间为易用时间格式</h3><p>1小时内用，多少分钟前； 超过1小时，显示时间而无日期； 如果是昨天，则显示昨天 超过昨天再显示日期； 超过1年再显示年。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">public static long oneHourMillis =  60 *  60 *  1000 ;  // 一小时的毫秒数 </div><div class="line">public static long oneDayMillis =  24 * oneHourMillis;  // 一天的毫秒数 </div><div class="line">public static long oneYearMillis =  365 * oneDayMillis;  // 一年的毫秒数 </div><div class="line">public static String millisToLifeString( long millis) &#123; </div><div class="line">  long now = System.currentTimeMillis(); </div><div class="line">  long todayStart = string2Millis(millisToStringDate(now,  &quot;yyyy-MM-dd&quot; ), </div><div class="line">  &quot;yyyy-MM-dd&quot; ); </div><div class="line">  // 一小时内 </div><div class="line">  if (now - millis &amp;lt;= oneHourMillis &amp;amp;&amp;amp; now - millis &amp;gt; 0l) &#123; </div><div class="line">  String m = millisToStringShort(now - millis,  false ,  false ); </div><div class="line">  return &quot;&quot; .equals(m) ?  &quot;1分钟内&quot; : m +  &quot;前&quot; ; </div><div class="line">  &#125; </div><div class="line">  // 大于今天开始开始值，小于今天开始值加一天（即今天结束值） </div><div class="line">  if (millis &amp;gt;= todayStart &amp;amp;&amp;amp; millis &amp;lt;= oneDayMillis + todayStart) &#123; </div><div class="line">  return &quot;今天 &quot; + millisToStringDate(millis,  &quot;HH:mm&quot; ); </div><div class="line">  &#125; </div><div class="line">  // 大于（今天开始值减一天，即昨天开始值） </div><div class="line">  if (millis &amp;gt; todayStart - oneDayMillis) &#123; </div><div class="line">  return &quot;昨天 &quot; + millisToStringDate(millis,  &quot;HH:mm&quot; ); </div><div class="line">  &#125; </div><div class="line">  long thisYearStart = string2Millis(millisToStringDate(now,  &quot;yyyy&quot; ), </div><div class="line">  &quot;yyyy&quot; ); </div><div class="line">  // 大于今天小于今年 </div><div class="line">  if (millis &amp;gt; thisYearStart) &#123; </div><div class="line">  return millisToStringDate(millis,  &quot;MM月dd日 HH:mm&quot; ); </div><div class="line">  &#125; </div><div class="line">  return millisToStringDate(millis,  &quot;yyyy年MM月dd日 HH:mm&quot; ); </div><div class="line"></div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h3 id="35-字符串解析成毫秒数"><a href="#35-字符串解析成毫秒数" class="headerlink" title="35.字符串解析成毫秒数"></a>35.字符串解析成毫秒数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public static long string2Millis(String str, String pattern) &#123; </div><div class="line">  SimpleDateFormat format =  new SimpleDateFormat(pattern, </div><div class="line">  Locale.getDefault()); </div><div class="line">  long millis =  0 ; </div><div class="line">  try &#123; </div><div class="line">  millis = format.parse(str).getTime(); </div><div class="line">  &#125;  catch (ParseException e) &#123; </div><div class="line">  Log.e( &quot;TAG&quot; , e.getMessage()); </div><div class="line">  &#125; </div><div class="line">  return millis; </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="36-手机号码正则"><a href="#36-手机号码正则" class="headerlink" title="36.手机号码正则"></a>36.手机号码正则</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">public static final String REG_PHONE_CHINA =  &quot;^((13[0-9])|(15[^4,\\D])|(18[0,5-9]))\\d&#123;8&#125;$&quot; ;</div></pre></td></tr></table></figure>
<h3 id="37-邮箱正则"><a href="#37-邮箱正则" class="headerlink" title="37.邮箱正则"></a>37.邮箱正则</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">public static final String REG_EMAIL =  &quot;\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*&quot; ;</div></pre></td></tr></table></figure>
<h3 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h3><ul>
<li><a href="http://blog.csdn.net/zhaokaiqiang1992" target="_blank" rel="external">新手必备的常用代码片段整理</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/14/android_code_collection/" data-id="cj4zxopmi0019q4nh338bb4yy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/code-collection/">code_collection</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android_opensource_in_github2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/11/android_opensource_in_github2/" class="article-date">
  <time datetime="2015-12-11T05:32:29.000Z" itemprop="datePublished">2015-12-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/android/">android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/11/android_opensource_in_github2/">P2:Open Source Projects In GitHub</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>以下是github上关于android开发比较实用的开源项目第二辑。后续会不断的收集更新。</p>
<h3 id="1-MagicViews"><a href="#1-MagicViews" class="headerlink" title="1.MagicViews"></a>1.MagicViews</h3><p>Provides a simple way to set custom font in Android application.<br>效果图：<br><img src="https://camo.githubusercontent.com/1d8460e3cdd22442ee0a9a1a08899f8243eea6c9/68747470733a2f2f7261772e6769746875622e636f6d2f696b6f63696a616e2f4d6167696356696577732f6d61737465722f73637265656e73686f6f745f322e706e67" alt=""><br><a href="https://github.com/ikocijan/MagicViews" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="2-Android-FlatUI"><a href="#2-Android-FlatUI" class="headerlink" title="2.Android FlatUI"></a>2.Android FlatUI</h3><p>FlatUI is a library that lets you use native android widgets with a better and customized look.</p>
<p>You can define the widgets in XML or create on run time in JAVA. Even though the widgets are customized, you can create your styles with attributes.</p>
<p>There are many predefined themes inside this library but you can also use your own colors easily.<br>There may be some unexpected results with different screen resolutions and different Android versions. If you have some problems or solutions to those problems please let me know.<br>效果图：<br><img src="https://camo.githubusercontent.com/590d4a2ac322417b71f83223bd58b83903d58343/68747470733a2f2f7261772e6769746875622e636f6d2f656c756c6563692f466c617455492f6d61737465722f73616d706c652d696d616765732f73686f77636173652e706e67" alt=""><br><a href="https://github.com/eluleci/FlatUI/" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="3-SecretTextView"><a href="#3-SecretTextView" class="headerlink" title="3.SecretTextView"></a>3.SecretTextView</h3><p>A TextView that simulates the effect from the app Secret where the characters fade in/out at different speeds.<br>效果图：<br><img src="http://7xo1gw.com1.z0.glb.clouddn.com/android_opensource_projects_in_github2-3.jpg" alt=""><br><a href="https://github.com/matthewrkula/SecretTextView/" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="4-Android-Image-Slider-Build-Status"><a href="#4-Android-Image-Slider-Build-Status" class="headerlink" title="4.Android Image Slider Build Status"></a>4.Android Image Slider Build Status</h3><p>This is an amazing image slider for the Android platform. I decided to open source this because there is really not an attractive, convenient slider widget in Android.</p>
<p>You can easily load images from an internet URL, drawable, or file. And there are many kinds of amazing animations you can choose. :-D<br>效果图：<br><img src="https://camo.githubusercontent.com/f64413139bbaa918131384d3597c33e39333aa7f/687474703a2f2f7777332e73696e61696d672e636e2f6d773639302f36313064633033346a773165677a6f7236366f6a64673230393530666b6e70652e676966" alt=""><br><a href="https://github.com/daimajia/AndroidImageSlider" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="5-PSGradientButtons"><a href="#5-PSGradientButtons" class="headerlink" title="5.PSGradientButtons"></a>5.PSGradientButtons</h3><p>A collection of buttons for use in Android applications. All buttons are in the form of xml-selectors and don’t require any images. The advantage of using XML Drawables is that they automatically adjust to the correct size. It contains several buttons inpired by the color scheme used in social networks. See <a href="https://play.google.com/store/apps/details?id=com.psgradientbuttons" target="_blank" rel="external">demo on Play Store</a>.<br>效果图：<br><img src="https://camo.githubusercontent.com/7f6c8426864939c009b2e8dccb67ef0da0a3ba5b/68747470733a2f2f7261772e6769746875622e636f6d2f736170616e646977616b61722f50534772616469656e74427574746f6e732f6d61737465722f53637265656e73686f74732f706e672d312e706e67" alt=""><br><a href="https://github.com/sapandiwakar/PSGradientButtons" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="6-PoppyView"><a href="#6-PoppyView" class="headerlink" title="6.PoppyView"></a>6.PoppyView</h3><p>PoppyView is a library which implements view on the bottom which come and go relative to the user scroll. It can be seen in the Google plus app.</p>
<p>This library uses</p>
<ul>
<li>techniques outlined by Cyril Mottier in a <a href="http://cyrilmottier.com/2013/05/24/pushing-the-actionbar-to-the-next-level/" target="_blank" rel="external">recent blog post</a>.</li>
<li>NineOldAndroids by Jake Wharton <a href="http://nineoldandroids.com/" target="_blank" rel="external">here</a> (for reasons of backwards compatibility)</li>
<li>ScrollTricks by Roman Nurik <a href="https://code.google.com/p/romannurik-code/source/browse/misc/scrolltricks" target="_blank" rel="external">here</a></li>
</ul>
<p>For reasons of backwards compatibility the sample relies on ActionBarSherlock.<br>Try out the sample APK <a href="https://raw.github.com/biboune/poppyview/master/poppyview-sample.apk" target="_blank" rel="external">here</a>.<br>效果图：<br><img src="https://camo.githubusercontent.com/f51c00f45f44f878a570ade70d9a13a436cb7b63/68747470733a2f2f7261772e6769746875622e636f6d2f6269626f756e652f706f707079766965772f6d61737465722f67726170686963732f696d67312e706e67" alt=""><br><img src="https://camo.githubusercontent.com/ab43277e87c7fb8b98ac068cb475dd0366068106/68747470733a2f2f7261772e6769746875622e636f6d2f6269626f756e652f706f707079766965772f6d61737465722f67726170686963732f696d67322e706e67" alt=""><br><a href="https://github.com/flavienlaurent/poppyview" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="7-Discrollview"><a href="#7-Discrollview" class="headerlink" title="7.Discrollview"></a>7.Discrollview</h3><p>Regularly, I am pleasantly surprised by websites using a pattern I called the discrollver pattern. I’m sure you already know what I’m talking about but if not, <a href="http://vimeo.com/player" target="_blank" rel="external">http://vimeo.com/player</a> is a good example. When you scroll, widgets appear from nowhere by fade, translation or scale.</p>
<p>With DiscrollView, I wanted to import this pattern on Android. This is an 0.0.1 alpha version because you have to do all the transformation work (fade, translation, scale etc) yourself base on a ratio value. I’m going to add some transformation presets (translation from left to right + fade in for example) to make the library more ready to use for lazy developers.<br>Try out the sample APK <a href="https://github.com/flavienlaurent/discrollview/raw/master/sample.apk" target="_blank" rel="external">here</a>.<br>效果图：<br><img src="http://7xo1gw.com1.z0.glb.clouddn.com/android_opensource_projects_in_github2-7.gif" alt=""><br><a href="https://github.com/flavienlaurent/discrollview" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="8-Android-Signature-Pad"><a href="#8-Android-Signature-Pad" class="headerlink" title="8.Android Signature Pad"></a>8.Android Signature Pad</h3><p>Android Signature Pad is an Android library for drawing smooth signatures. It uses variable width Bézier curve interpolation based on <a href="http://corner.squareup.com/2012/07/smoother-signatures.html" target="_blank" rel="external">Smoother Signatures</a> post by <a href="https://squareup.com/" target="_blank" rel="external">Square</a>.<br>效果图：<br><img src="https://github.com/gcacace/android-signaturepad/raw/master/header.png" alt=""><br><a href="https://github.com/gcacace/android-signaturepad" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="9-CalendarListview"><a href="#9-CalendarListview" class="headerlink" title="9.CalendarListview"></a>9.CalendarListview</h3><p>CalendarListview provides a easy way to select dates with a calendar for API 10+. <a href="https://github.com/traex/ExpandableLayout/blob/master/sample/" target="_blank" rel="external">You can find a sample</a> that show how to add DatePickerView to your layout without customization.<br>效果图：<br><img src="https://github.com/traex/CalendarListview/raw/master/demo.gif" alt=""><br><a href="https://github.com/traex/CalendarListview" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="10-ExpandableLayout"><a href="#10-ExpandableLayout" class="headerlink" title="10.ExpandableLayout"></a>10.ExpandableLayout</h3><p>ExpandableLayout provides an easy way to create a view called header with an expandable view. Both view are external layout to allow a maximum of customization. You can find a sample that how to use an ExpandableLayout to your layout.<br>效果图：<br><img src="https://github.com/traex/ExpandableLayout/raw/master/demo.gif" alt=""><br><a href="https://github.com/traex/ExpandableLayout" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="11-SnackBar"><a href="#11-SnackBar" class="headerlink" title="11.SnackBar"></a>11.SnackBar</h3><p>toast-like alert pattern for Android inspired by the Google Material Design Spec.<br>This library is deprecated in favor of the new Design Support Library which includes a Snackbar. It is due to this development that this library is no longer activly being developed.<br>效果图：<br><img src="https://camo.githubusercontent.com/67a39af16f3d46631567c1f7bd7dcddeb3c4c9e9/687474703a2f2f6d6174657269616c2d64657369676e2e73746f726167652e676f6f676c65617069732e636f6d2f696d616765732f636f6d706f6e656e74732d746f617374732d73706563732d737065635f746f6173745f30335f315f6c617267655f6d6470692e706e67" alt=""><br><a href="https://github.com/MrEngineer13/SnackBar" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="12-JellyViewPager"><a href="#12-JellyViewPager" class="headerlink" title="12.JellyViewPager"></a>12.JellyViewPager</h3><p>效果图：<br><img src="https://github.com/chiemy/JellyViewPager/raw/master/capture.gif" alt=""><br><a href="https://github.com/chiemy/JellyViewPager" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="13-Sweet-Alert-Dialog"><a href="#13-Sweet-Alert-Dialog" class="headerlink" title="13.Sweet Alert Dialog"></a>13.Sweet Alert Dialog</h3><p>SweetAlert for Android, a beautiful and clever alert dialog<br>效果图：<br><img src="https://github.com/pedant/sweet-alert-dialog/raw/master/change_type.gif" alt=""><br><a href="https://github.com/pedant/sweet-alert-dialog" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="14-The-Parallax-Pager"><a href="#14-The-Parallax-Pager" class="headerlink" title="14.The Parallax Pager"></a>14.The Parallax Pager</h3><p>Add some depth to your Android scrolling.<br>效果图：<br><img src="https://camo.githubusercontent.com/7b638f5e31b5cc79a7c06cbe12e2708514069f88/687474703a2f2f70726f6c69666963696e7465726163746976652e636f6d2f626c6f672f77702d636f6e74656e742f75706c6f6164732f323031342f30342f706172616c6c61785f706c616e65745f64656d6f2e676966" alt=""><br><a href="https://github.com/prolificinteractive/ParallaxPager" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="15-RippleView"><a href="#15-RippleView" class="headerlink" title="15.RippleView"></a>15.RippleView</h3><p>View that imitates Ripple Effect on click which was introduced in Android L.<br>效果图：<br><img src="https://camo.githubusercontent.com/eec41193900aad4803dcf18bc9915fafa3f7d1cf/68747470733a2f2f7261772e6769746875622e636f6d2f73697269736361632f526970706c65566965772f6d61737465722f53637265656e732f53637265656e2e676966" alt=""><br><a href="https://github.com/siriscac/RippleView" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="16-Shape-Image-View"><a href="#16-Shape-Image-View" class="headerlink" title="16.Shape Image View"></a>16.Shape Image View</h3><p>Provides a set of custom shaped android imageview components, and a framework to define more shapes. Implements both shader and bitmap mask based image views.</p>
<ul>
<li>Shader based one uses canvas draw methods and Path class,</li>
<li>Mask based one uses xfermode to draw image on bitmaps defined by android shape XML’s or resource bitmaps.</li>
</ul>
<p>效果图：<br><img src="https://github.com/siyamed/android-shape-imageview/raw/master/images/shader-buble.png" alt=""><br><a href="https://github.com/siyamed/android-shape-imageview" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="17-StowableHeaderViewPager"><a href="#17-StowableHeaderViewPager" class="headerlink" title="17.StowableHeaderViewPager"></a>17.StowableHeaderViewPager</h3><p>simply ParallaxHeaderViewPager into StowableHeaderViewPager<br>效果图：<br><img src="http://7xo1gw.com1.z0.glb.clouddn.com/android_opensource_projects_in_github2-17.jpg" alt=""><br><a href="https://github.com/kmshack/Android-ParallaxHeaderViewPager" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="18-TabBarView"><a href="#18-TabBarView" class="headerlink" title="18.TabBarView"></a>18.TabBarView</h3><p>An Android Library to help you create actionbar tabs like “Capitaine train” app by Cyril Mottier.<br>(分类菜单导航功能)<br>效果图：<br><img src="https://camo.githubusercontent.com/f0b821a1fdac68ef9d7e94d241eda3aedc919cca/68747470733a2f2f7261772e6769746875622e636f6d2f4d69726b6f6464642f546162426172566965772f6d61737465722f6578747261732f69636f6e2e706e67" alt=""><br><a href="https://github.com/Mirkoddd/TabBarView" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="19-Avatars-for-Android"><a href="#19-Avatars-for-Android" class="headerlink" title="19.Avatars for Android"></a>19.Avatars for Android</h3><p>This project provides a easy way to build avatar compositions for Android applications, as you can see in the screenshot.<br>效果图：<br><img src="http://7xo1gw.com1.z0.glb.clouddn.com/android_opensource_projects_in_github2-19.png" alt=""><br><a href="https://github.com/Pedroafa/avatar-android" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="20-JustifiedTextView"><a href="#20-JustifiedTextView" class="headerlink" title="20.JustifiedTextView"></a>20.JustifiedTextView</h3><p>Implement justified textview base on the native TextView. Let text displays fill the screen width without extra blanks in the end of line.<br>效果图：<br><img src="https://github.com/ufo22940268/android-justifiedtextview/raw/master/en.png" alt=""><br><a href="https://github.com/ufo22940268/android-justifiedtextview" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="21-Material-Menu"><a href="#21-Material-Menu" class="headerlink" title="21.Material Menu"></a>21.Material Menu</h3><p>Morphing Android menu, back, dismiss and check buttons<br>效果图：<br><img src="https://camo.githubusercontent.com/642bd91749dce58abfba00fe1cefdf2cf4213fd3/68747470733a2f2f7261772e6769746875622e636f6d2f62616c7973762f6d6174657269616c2d6d656e752f6d61737465722f6172742f64656d6f2e676966" alt=""><br><img src="https://camo.githubusercontent.com/a45273254d6db820e87b8291a0917420f542612c/68747470733a2f2f7261772e6769746875622e636f6d2f62616c7973762f6d6174657269616c2d6d656e752f6d61737465722f6172742f64656d6f5f6472617765722e676966" alt=""><br><a href="https://github.com/balysv/material-menu" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="22-ActionSheet"><a href="#22-ActionSheet" class="headerlink" title="22.ActionSheet"></a>22.ActionSheet</h3><p>This is like iOS UIActionSheet component, has iOS6 and iOS7 style, support custom style, background, button image, text color and spacing etc.<br>效果图：<br><img src="https://raw.githubusercontent.com/baoyongzhang/ActionSheetForAndroid/master/screenshot-1.png" alt=""><br><img src="https://raw.githubusercontent.com/baoyongzhang/ActionSheetForAndroid/master/screenshot-2.png" alt=""><br><a href="https://github.com/baoyongzhang/ActionSheetForAndroid" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="23-RippleEffect"><a href="#23-RippleEffect" class="headerlink" title="23.RippleEffect"></a>23.RippleEffect</h3><p>ExpandableLayout provides an easy way to create a view called header with an expandable view. Both view are external layout to allow a maximum of customization. You can find a sample that how to use an ExpandableLayout to your layout.<br>效果图：<br><img src="https://github.com/traex/RippleEffect/raw/master/demo.gif" alt=""><br><a href="https://github.com/traex/RippleEffect" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="24-FloatingActionButton"><a href="#24-FloatingActionButton" class="headerlink" title="24.FloatingActionButton"></a>24.FloatingActionButton</h3><p>Android floating action button which reacts on scrolling events. Becomes visible when an attached target is scrolled up and invisible when scrolled down.<br>效果图：<br><img src="https://github.com/makovkastar/FloatingActionButton/raw/master/art/demo.gif" alt=""><br><a href="https://github.com/makovkastar/FloatingActionButton" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="25-WheelView"><a href="#25-WheelView" class="headerlink" title="25.WheelView"></a>25.WheelView</h3><p>WheelView is an Android library that allows drawables to be placed on a rotatable wheel. It behaves like a Circular ListView where items rotate rather than scroll vertically. It isn’t limited by the number of items that can fit on the wheel since it will cycle through each adapter position when the wheel is rotated. It can be rotated at any angle and from any position.</p>
<p>The WheelView can be used as a way to select one item from a list. The SelectionAngle determines what position on the wheel is selected. You can also receive a callback for when an item is clicked, and whether it is selected. Have a look at the sample for a working example!<br>效果图：<br><img src="https://github.com/LukeDeighton/WheelView/raw/master/Graphics/bottom_wheel.gif" alt=""><br><a href="https://github.com/LukeDeighton/WheelView" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="26-Sinking-View"><a href="#26-Sinking-View" class="headerlink" title="26.Sinking-View"></a>26.Sinking-View</h3><p>波纹显示图片加载进度。<br>效果图：<br><img src="http://7xo1gw.com1.z0.glb.clouddn.com/android_opensource_projects_in_github2-26.jpg" alt=""><br><a href="https://github.com/dkmeteor/Sinking-View" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="27-GoogleProgressBar"><a href="#27-GoogleProgressBar" class="headerlink" title="27.GoogleProgressBar"></a>27.GoogleProgressBar</h3><p>Android library to display different kind of google related animations for the progressBar.<br>The demo app can be found in the play store.<br>效果图：<br><img src="https://raw.githubusercontent.com/jpardogo/GoogleProgressBar/dev/art/GoogleDices.gif" alt=""><br><a href="https://github.com/jpardogo/GoogleProgressBar" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="28-CircularFloatingActionMenu"><a href="#28-CircularFloatingActionMenu" class="headerlink" title="28.CircularFloatingActionMenu"></a>28.CircularFloatingActionMenu</h3><p>An animated, customizable circular floating menu for Android, inspired by Path app.<br>效果图：<br><img src="https://github.com/oguzbilgener/CircularFloatingActionMenu/raw/master/assets/circularfab.gif" alt=""><br><a href="https://github.com/oguzbilgener/CircularFloatingActionMenu" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="29-tickplusdrawable"><a href="#29-tickplusdrawable" class="headerlink" title="29.tickplusdrawable"></a>29.tickplusdrawable</h3><p>a frame by frame animation aka GIF!<br>通过动画切换按钮状态，图像是通过onDraw画的。类似于上文中的 21.Material Menu<br>效果图：<br><img src="http://7xo1gw.com1.z0.glb.clouddn.com/android_opensource_projects_in_github2-29.gif" alt=""><br><a href="https://github.com/flavienlaurent/tickplusdrawable" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="30-LetterImageView"><a href="#30-LetterImageView" class="headerlink" title="30.LetterImageView"></a>30.LetterImageView</h3><p>A simple Android ImageView implementation which draws a letter on a randomly colored background.<br>效果图：<br><img src="https://github.com/makovkastar/LetterImageView/raw/master/art/screenshot2.png?raw=true" alt=""><br><a href="https://github.com/makovkastar/LetterImageView" target="_blank" rel="external">GITHUB地址</a>           <a href="">备用地址</a></p>
<h3 id="系列文章列表"><a href="#系列文章列表" class="headerlink" title="系列文章列表"></a>系列文章列表</h3><ul>
<li><a href="http://aresxiong.com/2015/12/10/android_opensource_in_github/" target="_blank" rel="external">P1:Open Source Projects In GitHub </a></li>
<li><a href="http://aresxiong.com/2015/12/10/android_opensource_in_github2/" target="_blank" rel="external">P2:Open Source Projects In GitHub </a></li>
</ul>
<h3 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h3><p><a href="http://www.github.com" target="_blank" rel="external">GitHub Website</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/11/android_opensource_in_github2/" data-id="cj4zxopnt0032q4nhodwaxjjo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/github/">github</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/opensource/">opensource</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android_opensource_in_github" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/10/android_opensource_in_github/" class="article-date">
  <time datetime="2015-12-10T11:32:29.000Z" itemprop="datePublished">2015-12-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/android/">android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/10/android_opensource_in_github/">P1:Open Source Projects In GitHub</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>以下是github上关于android开发比较实用的开源项目第一辑。后续会不断的收集更新。</p>
<h3 id="1-CircularReveal"><a href="#1-CircularReveal" class="headerlink" title="1.CircularReveal"></a>1.CircularReveal</h3><p>Lollipop ViewAnimationUtils.createCircularReveal for everyone 2.3+<br>depends from Jake Wharton’s NineOldsAndroid, or use my modifed version (included auto cancel)<br>效果图：<br><img src="https://camo.githubusercontent.com/b77f83ee8da9b8d5926597fb7c65a457b4029e98/687474703a2f2f3773626e72702e636f6d312e7a302e676c622e636c6f7564646e2e636f6d2f6c6f6c6c69706f70322d43697263756c617252657665616c2e676966" alt=""><br><a href="https://github.com/ozodrukh/CircularReveal" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="2-MaterialRangeBar"><a href="#2-MaterialRangeBar" class="headerlink" title="2.MaterialRangeBar"></a>2.MaterialRangeBar</h3><p>MaterialRangeBar is a fork of <a href="https://github.com/edmodo/range-bar" target="_blank" rel="external">https://github.com/edmodo/range-bar</a> that adds some basic material styling, as well as start and end values, values as floats and some other things. It is aiming to mimic this:</p>
<p><a href="http://www.google.com/design/spec/components/sliders.html" target="_blank" rel="external">http://www.google.com/design/spec/components/sliders.html</a></p>
<p>It is similar to an enhanced SeekBar widget, though it doesn’t make use of the SeekBar. It provides for the selection of a range of values as well as for a single value. The selectable range values are discrete values designated by tick marks; the pin (handle) will snap to the nearest tick mark. This is my first library project, apologies for poor coding, etc etc.</p>
<p>Supported on API Level 12 and above for animations.<br>效果图：<br><img src="https://github.com/oli107/material-range-bar/raw/master/Screenshots/pin%20expand.gif" alt=""><br><a href="https://github.com/oli107/material-range-bar" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="3-Android-Indicators"><a href="#3-Android-Indicators" class="headerlink" title="3.Android Indicators"></a>3.Android Indicators</h3><p>A simple library to add some effect to screen title.<br>效果图：<br><img src="https://raw.githubusercontent.com/MoshDev/AndroidIndicators/master/snapshots/2015-01-12%2019_42_02.gif" alt=""><br><a href="https://github.com/MoshDev/AndroidIndicators" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="4-StikkyHeader"><a href="#4-StikkyHeader" class="headerlink" title="4.StikkyHeader"></a>4.StikkyHeader</h3><p>This is a very simple library for Android that allows you to stick an header to a ListView and easily apply animation to it.<br>效果图：<br><img src="https://raw.githubusercontent.com/carlonzo/StikkyHeader/develop/readme/example1.gif" alt=""> <img src="https://raw.githubusercontent.com/carlonzo/StikkyHeader/develop/readme/example2.gif" alt=""><br><a href="https://github.com/carlonzo/StikkyHeader" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="5-Phoenix-Pull-to-Refresh"><a href="#5-Phoenix-Pull-to-Refresh" class="headerlink" title="5.Phoenix Pull-to-Refresh"></a>5.Phoenix Pull-to-Refresh</h3><p>This project aims to provide a simple and customizable pull to refresh implementation. Made in Yalantis.<br>效果图：<br><img src="https://camo.githubusercontent.com/d406ac5a03a2b1fa5cf41fadc8d2408cb8709bdc/68747470733a2f2f6431337961637572716a676172612e636c6f756466726f6e742e6e65742f75736572732f3132353035362f73637265656e73686f74732f313635303331372f7265616c6573746174652d70756c6c5f312d322d332e676966" alt=""><br><a href="https://github.com/Yalantis/Phoenix" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="6-Android-ObservableScrollView"><a href="#6-Android-ObservableScrollView" class="headerlink" title="6.Android-ObservableScrollView"></a>6.Android-ObservableScrollView</h3><p>Android library to observe scroll events on scrollable views.<br>It’s easy to interact with the Toolbar introduced in Android 5.0 Lollipop and may be helpful to implement look and feel of Material Design apps.<br>效果图：<br><img src="https://raw.githubusercontent.com/ksoichiro/Android-ObservableScrollView/master/samples/images/demo12.gif" alt=""> <img src="https://raw.githubusercontent.com/ksoichiro/Android-ObservableScrollView/master/samples/images/demo10.gif" alt=""><br><a href="https://github.com/ksoichiro/Android-ObservableScrollView" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="7-SuperSLiM"><a href="#7-SuperSLiM" class="headerlink" title="7.SuperSLiM"></a>7.SuperSLiM</h3><p>SuperSLiM is a configurable layout manager for a RecyclerView. It provides a vertical scrolling list of sections. Each section is a grouping of one or more views, arranged by a section layout manager (SLM). Sections may have a header, and each header can have its own unique layout. The SLM can be one of the provided (listed below), or of your own creation.<br>SuperSLiM also has a maintained wiki with guides and documentation to help you out.</p>
<p>效果图：<br><img src="https://camo.githubusercontent.com/3a55cfd0bbfd28e72aa875f4905cc23cc37a87f4/68747470733a2f2f342e62702e626c6f6773706f742e636f6d2f2d657034364a4b70476138342f564a685831706c575743492f4141414141414141585a592f394131417272563361336b2f73313630302f5375706572534c694d2d44656d6f2d736d616c6c2e676966" alt=""><br><a href="https://github.com/TonicArtos/SuperSLiM" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="8-DiscreteSeekBar"><a href="#8-DiscreteSeekBar" class="headerlink" title="8.DiscreteSeekBar"></a>8.DiscreteSeekBar</h3><p>DiscreteSeekbar is my poor attempt to develop an android implementation of the Discrete Slider component from the Google Material Design Guidelines.<br>效果图：<br><img src="https://camo.githubusercontent.com/e717e2597779d1ddc980ace6f3943f62483d8a8c/68747470733a2f2f6c68332e676f6f676c6575736572636f6e74656e742e636f6d2f2d376e62565058785568596b2f56472d724f3634704d57492f414141414141414148734d2f614d52676c7432567a726b2f773633392d683438302f616e696d6174696f6e2e676966" alt=""><br><a href="https://github.com/AnderWeb/discreteSeekBar" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="9-Parallax-Everywhere"><a href="#9-Parallax-Everywhere" class="headerlink" title="9.Parallax Everywhere"></a>9.Parallax Everywhere</h3><p>Parallax everywhere (PEW) is a library with alternative android views using parallax effects.<br>效果图：<br><img src="https://raw.githubusercontent.com/Narfss/ParallaxEverywhere/master/parallax-everywhere-animation-optimize.gif" alt=""><br><a href="https://github.com/Narfss/ParallaxEverywhere" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="10-ExpandableTextView"><a href="#10-ExpandableTextView" class="headerlink" title="10.ExpandableTextView"></a>10.ExpandableTextView</h3><p>ExpandableTextView is an Android library that allows developers to easily create an TextView which can expand/collapse just like the Google Play’s app description. Feel free to use it all you want in your Android apps provided that you cite this project.<br>API Level 8 (Froyo) and above.<br>效果图：<br><img src="https://camo.githubusercontent.com/8bf46083b3bd152c2051ae4c234649dbbb975376/68747470733a2f2f7261772e6769746875622e636f6d2f4d616e6162752d47542f457870616e6461626c6554657874566965772f6d61737465722f6172742f726561646d655f64656d6f2e676966" alt=""><br><a href="https://github.com/Manabu-GT/ExpandableTextView" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="11-TransformableDrawableButton"><a href="#11-TransformableDrawableButton" class="headerlink" title="11.TransformableDrawableButton"></a>11.TransformableDrawableButton</h3><p>This library is a extension of the android’s buttons. Using this extension you can add a switchable buttons with a common draws defined, and cool animations when you switch between them.<br>Do you need more explanation?<br>Round buttons Example.<br>效果图：<br><img src="https://raw.githubusercontent.com/Narfss/TransformableDrawableButton/master/draw_round_buttons_example.gif" alt=""><br><img src="https://raw.githubusercontent.com/Narfss/TransformableDrawableButton/master/draw_sides_buttons_example.gif" alt=""><br><a href="https://github.com/Narfss/TransformableDrawableButton" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="12-Android-MatchView"><a href="#12-Android-MatchView" class="headerlink" title="12.Android MatchView"></a>12.Android MatchView</h3><p>This project is learn from (<a href="https://github.com/liaohuqiu/android-Ultra-Pull-To-Refresh" target="_blank" rel="external">https://github.com/liaohuqiu/android-Ultra-Pull-To-Refresh</a>) .<br>Thanks for liaohuqiu..<br>I like the animation in that project…so i studied his codes and make this..<br>效果图：<br><img src="https://camo.githubusercontent.com/a71e9d26a7f90ea70270b3681d99785a29f83be5/687474703a2f2f7777312e73696e61696d672e636e2f6d773639302f6136393561636465677731656d79746e6b347334356732306567306d6b3439302e676966" alt=""><br><a href="https://github.com/Rogero0o/MatchView" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="13-Artiste"><a href="#13-Artiste" class="headerlink" title="13.Artiste"></a>13.Artiste</h3><p>Artiste is a collection of static methods for creating Path objects initialized with different shapes.<br>效果图：<br><img src="https://raw.githubusercontent.com/mattlogan/Artiste/master/github_assets/artiste_shapes.png" alt=""><br><a href="https://github.com/mattlogan/Artiste" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="14-Android-Ripple-Background"><a href="#14-Android-Ripple-Background" class="headerlink" title="14.Android Ripple Background"></a>14.Android Ripple Background</h3><p>A beautiful ripple animation for your app. You can easily change its color, speed of wave, one ripple or multiple ripples. See demo below.<br>效果图：<br><img src="https://github.com/skyfishjy/android-ripple-background/raw/master/previews/rippleSimple.gif" alt=""><br><img src="https://github.com/skyfishjy/android-ripple-background/raw/master/previews/rippleFoundDevice.gif" alt=""><br><a href="https://github.com/skyfishjy/android-ripple-background" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="15-Material-ish-Progress"><a href="#15-Material-ish-Progress" class="headerlink" title="15.Material-ish Progress"></a>15.Material-ish Progress</h3><p>A material style progress wheel compatible with 2.3<br>Try the demo app on Google Play:<a href="https://play.google.com/store/apps/details?id=com.pnikosis.materialishprogress.sample" target="_blank" rel="external">DEMO</a><br>I needed to keep a consistent (or as close as possible) look in an app across all Android Versions. The progress wheel is quite cool in Lollipop, and pretty horrible on Gingerbread.<br>So I created this. This view uses Progress Wheel as a base, but has been almost completely rewritten (the original view uses handlers for updating the wheel).<br>This implementation tries to follow as close as possible the guidelines for the circular progress as described here.<br>This is how it looks in indeterminate mode (the spinSpeed here is 0.64 which is the default, look below how to change it):<br>效果图：<br><img src="https://github.com/pnikosis/materialish-progress/raw/master/spinningwheel.gif" alt=""><br><img src="https://github.com/pnikosis/materialish-progress/raw/master/spinningwheel_progress.gif" alt=""><br><a href="https://github.com/pnikosis/materialish-progress" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="16-Android-PullLayout"><a href="#16-Android-PullLayout" class="headerlink" title="16.Android-PullLayout"></a>16.Android-PullLayout</h3><p>仿UC天气下拉和微信下拉眼睛<br>效果图：<br><img src="https://raw.githubusercontent.com/BlueMor/Android-PullLayout/master/screenshoot/123.gif" alt=""><br><a href="https://github.com/BlueMor/Android-PullLayout" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="17-CircleProgress"><a href="#17-CircleProgress" class="headerlink" title="17.CircleProgress"></a>17.CircleProgress</h3><p>inspired from <a href="https://github.com/daimajia/NumberProgressBar" target="_blank" rel="external">https://github.com/daimajia/NumberProgressBar</a><br>and CleanMaster<br>3 kinds of progress view are provided, DonutProgress, CircleProgress, ArcProgress.<br>效果图：<br><img src="https://raw.githubusercontent.com/lzyzsd/CircleProgress/master/demos/circle_progress.gif" alt=""><br><a href="https://github.com/lzyzsd/CircleProgress" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="18-CRefreshLayout"><a href="#18-CRefreshLayout" class="headerlink" title="18.CRefreshLayout"></a>18.CRefreshLayout</h3><p>A stunning android pull refresh layout inspired by CBStoreHouseRefreshControl.<br>You can define the refresh view by yourself, like this one at the following:<br>效果图：<br><img src="https://camo.githubusercontent.com/be1ea3e298aa539cbb77e66e1720256fbd8102b0/687474703a2f2f63726566726573686c61796f75742e71696e6975646e2e636f6d2f43526566726573684c61796f75742e676966" alt=""><br><a href="https://github.com/cloay/CRefreshLayout" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="19-ShowTipsView"><a href="#19-ShowTipsView" class="headerlink" title="19.ShowTipsView"></a>19.ShowTipsView</h3><p>ShowTipsView let you highligth specific points of interest of your app.<br>效果图：<br><img src="https://github.com/fredericojssilva/ShowTipsView/raw/master/sample.png" alt=""><br><a href="https://github.com/fredericojssilva/ShowTipsView" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="20-FreeFlow"><a href="#20-FreeFlow" class="headerlink" title="20.FreeFlow"></a>20.FreeFlow</h3><p>A layout engine for Android that decouples layouts from the View containers that manage scrolling and view recycling. FreeFlow makes it really easy to create custom layouts and beautiful transition animations as layouts are changed.</p>
<p>FreeFlow is a composition based approach to Android Layouts. As opposed to default Android Layouts, FreeFlow Layouts are swappable at runtime which allows views to their new states smoothly. The fundamental difference here is that FreeFlow prefers <a href="http://en.wikipedia.org/wiki/Composition_over_inheritance" target="_blank" rel="external">Composition over Inheritance</a> which makes the system a lot more adaptable.</p>
<p>Freeflow may be considered in “alpha”. You can help in many ways, by reviewing and making suggestions on api’s to actually finding bugs and submitting patches via pull requests.<br>FreeFlow is inspired by UI frameworks like <a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UICollectionView_class/Reference/Reference.html" target="_blank" rel="external">UICollectionViews on iOS</a> and the <a href="http://www.adobe.com/devnet/flex/articles/flex4_sparkintro.html" target="_blank" rel="external">Spark Architecture in Flex</a>.<br>效果图：<br><img src="https://camo.githubusercontent.com/2f5b51768a25a694304a3594117a93cb43124c55/68747470733a2f2f7261772e6769746875622e636f6d2f436f6d636173742f46726565466c6f772f6d61737465722f6578616d706c65732f417274626f6f6b2f73637265656e73686f74732f66726565666c6f772e706e67" alt=""><br><a href="https://www.youtube.com/watch?v=xDd-bcGqLkw" target="_blank" rel="external">VIDEO LINK</a><br><a href="https://github.com/Comcast/FreeFlow" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="21-NumberSeekBar"><a href="#21-NumberSeekBar" class="headerlink" title="21.NumberSeekBar"></a>21.NumberSeekBar</h3><p>NumBerSeekBar,非常漂亮的，带有数字进度的SeekBar.<br>效果图：<br><img src="https://camo.githubusercontent.com/e717e2597779d1ddc980ace6f3943f62483d8a8c/68747470733a2f2f6c68332e676f6f676c6575736572636f6e74656e742e636f6d2f2d376e62565058785568596b2f56472d724f3634704d57492f414141414141414148734d2f614d52676c7432567a726b2f773633392d683438302f616e696d6174696f6e2e676966" alt=""><br><a href="https://github.com/soyoungboy/NumberSeekBar" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="22-CircularProgressDrawable"><a href="#22-CircularProgressDrawable" class="headerlink" title="22.CircularProgressDrawable"></a>22.CircularProgressDrawable</h3><p>A drawable with capabilities to indicate progress.<br>If you want to achieve interesting effects and animations on Android, a surprisingly easy and fast way to achieve it is subclassing a Drawable instead of subclassing a Button or an ImageView.<br>In order to implement advanced behavior over the Drawable, you can still implement your own animations by using Android animations framework or by the use of listeners on the views you are using.<br>效果图：<br><img src="https://github.com/Sefford/CircularProgressDrawable/raw/master/overshoot.gif" alt=""><br><a href="https://github.com/Sefford/CircularProgressDrawable" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="23-Crouton"><a href="#23-Crouton" class="headerlink" title="23.Crouton"></a>23.Crouton</h3><p>Context sensitive notifications for Android.<br>This library has passed it’s prime and is now considered deprecated.</p>
<p>With the <a href="http://android-developers.blogspot.co.uk/2015/05/android-design-support-library.html" target="_blank" rel="external">Android Design Support Library</a> introducing <a href="https://developer.android.com/reference/android/support/design/widget/Snackbar.html" target="_blank" rel="external">Snackbar</a> developers get a well crafted pattern to use for context aware notification of users.</p>
<p>I won’t do any active development for Crouton any more. But I still do accept pull requests that fix bugs.<br>So long, and thanks for all the forks.<br>Crouton is a class that can be used by Android developers that feel the need for an alternative to the Context insensitive Toast.<br>效果图：<br><a href="http://play.google.com/store/apps/details?id=de.keyboardsurfer.app.demo.crouton" target="_blank" rel="external">DEMO IN GOOGLEPLAY</a><br><a href="https://github.com/keyboardsurfer/Crouton" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="24-PagingGridView"><a href="#24-PagingGridView" class="headerlink" title="24.PagingGridView"></a>24.PagingGridView</h3><p>PagingGridView has the ability to add more items on it like PagingListView does. Basically is a GridView with the ability to add more items on it when reaches the end of the list.<br>效果图：<br><img src="http://7xo1gw.com1.z0.glb.clouddn.com/android_opensource_in_github24.jpg" alt=""><br><a href="https://github.com/nicolasjafelle/PagingGridView" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="25-ViewPagerTransforms"><a href="#25-ViewPagerTransforms" class="headerlink" title="25.ViewPagerTransforms"></a>25.ViewPagerTransforms</h3><p>Library containing common animations needed for transforming ViewPager scrolling on Android v13+. This library is a rewrite of the <a href="https://github.com/jfeinstein10/JazzyViewPager" target="_blank" rel="external">JazzyViewPager</a> library and owes credit of the animation concepts directly to its source. The purpose of this rewrite is to provide an easier to use and extend implementation of ViewPager animations.<br>效果图：<br><img src="https://camo.githubusercontent.com/8dabc7f764609bd8fbe9a7c594251e0e5d20ebdc/687474703a2f2f692e696d6775722e636f6d2f72766845326e732e676966" alt=""><br><a href="https://github.com/ToxicBakery/ViewPagerTransforms" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="26-ListviewFilter"><a href="#26-ListviewFilter" class="headerlink" title="26.ListviewFilter"></a>26.ListviewFilter</h3><p>Awesome Listview filter functionality in Android.<br>效果图：<br><img src="https://raw.githubusercontent.com/bhavyahmehta/ListviewFilter/master/screen_shot.png" alt=""><br><a href="https://github.com/bhavyahmehta/ListviewFilter" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="27-SizeAdjustingTextView"><a href="#27-SizeAdjustingTextView" class="headerlink" title="27.SizeAdjustingTextView"></a>27.SizeAdjustingTextView</h3><p>This is based on an open source autosizing textview for Android I found a few weeks ago. The initial approach didn’t resize multiple lines and wasn’t maintained to keep up with changes in Android. I decided to go ahead and create this as a place to preserve the auto sizing text view as well as giving it a platform for some change and to possibly add some features and functionality.<br>效果图：<br><img src="http://7xo1gw.com1.z0.glb.clouddn.com/android_opensource_projects_in_github27.jpg" alt=""><br><a href="https://github.com/erchenger/SizeAdjustingTextView" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="28-FButton"><a href="#28-FButton" class="headerlink" title="28.FButton"></a>28.FButton</h3><p>FButton is a custom Button of Android with “Flat UI” concept. FButton’s design get inspiration from designmono. This library is very small and highly customizable.</p>
<p>Demo application on playstore: <a href="https://play.google.com/store/apps/details?id=info.hoang8f.fbutton.demo" target="_blank" rel="external">DEMO</a><br>效果图：<br><img src="https://raw.githubusercontent.com/hoang8f/android-flat-button/master/screenshot/screenshot.gif" alt=""><br><a href="https://github.com/hoang8f/android-flat-button" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="29-ALLforYOU-android-UI-design"><a href="#29-ALLforYOU-android-UI-design" class="headerlink" title="29.ALLforYOU android UI design"></a>29.ALLforYOU android UI design</h3><p>实现了滑动Viewpager的时候，背景动态变化的效果. IDE :Android Studio.可以作为APP首次进入的引导页面.<br>效果图：<br><img src="https://raw.githubusercontent.com/TaurusXi/GuideBackgroundColorAnimation/master/art/sample.gif" alt=""><br><a href="https://github.com/TaurusXi/GuideBackgroundColorAnimation" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="30-Android-Color-Thief"><a href="#30-Android-Color-Thief" class="headerlink" title="30.Android Color Thief"></a>30.Android Color Thief</h3><p>A port to Android of Simon Oualid’s “Java Color Thief”.<br>(可以列出来图片中主要的颜色分布情况)<br>效果图：<br><img src="https://raw.githubusercontent.com/HenriqueRocha/android-colorthief/master/sample/android-colorthief.png" alt=""><br><a href="https://github.com/HenriqueRocha/android-colorthief" target="_blank" rel="external">GITHUB地址</a>  <a href="">备用地址</a></p>
<h3 id="系列文章列表"><a href="#系列文章列表" class="headerlink" title="系列文章列表"></a>系列文章列表</h3><ul>
<li><a href="http://aresxiong.com/2015/12/10/android_opensource_in_github/" target="_blank" rel="external">P1:Open Source Projects In GitHub </a></li>
<li><a href="http://aresxiong.com/2015/12/10/android_opensource_in_github2/" target="_blank" rel="external">P2:Open Source Projects In GitHub </a></li>
</ul>
<h3 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h3><p><a href="http://www.github.com" target="_blank" rel="external">GitHub Website</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/10/android_opensource_in_github/" data-id="cj4zxopnt002uq4nh29qki88d" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/github/">github</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/opensource/">opensource</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android_screen_record" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/10/android_screen_record/" class="article-date">
  <time datetime="2015-12-10T11:30:29.000Z" itemprop="datePublished">2015-12-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/android/">android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/10/android_screen_record/">Android手机如何录制屏幕及转GIF</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>有时候我们需要录制Android手机的屏幕，比如写了一个Demo应用，需要发布到博客和微博上。</p>
<p>如下是我录制转GIF的效果图<br><img src="http://img2.tuicool.com/iyARveQ.gif" alt=""></p>
<p>对于Android4.4的上的手机，系统自带了一个命令screenrecord，我们可以很方便的使用。</p>
<h2 id="录制命令"><a href="#录制命令" class="headerlink" title="录制命令"></a>录制命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">adb shell screenrecord /sdcard/test.mp4</div></pre></td></tr></table></figure>
<p>视频保存目录可以自己指定，如上面的/sdcard/test.mp4，命令执行后会一直录制180s，按下ctrl+c可以提前结束录制<br>设定视频分辨率</p>
<p>对于高分辨率的手机，录制的视频很大，我们分享又不需要这么大的</p>
<p>我们可以设置录制的视频分辨率<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">adb shell screenrecord --size 848*480 /sdcard/test.mp4</div></pre></td></tr></table></figure></p>
<h2 id="设定视频比特率"><a href="#设定视频比特率" class="headerlink" title="设定视频比特率"></a>设定视频比特率</h2><p>默认比特率是4M/s，为了分享方便，我们可以调低比特率为2M<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">adb shell screenrecord --bit-rate 2000000 /sdcard/test.mp4</div></pre></td></tr></table></figure></p>
<h2 id="获取视频文件"><a href="#获取视频文件" class="headerlink" title="获取视频文件"></a>获取视频文件</h2><p>使用adb pull 即可把手机SD卡中视频获取到本地<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">adb pull /sdcard/test.mp4 .</div></pre></td></tr></table></figure></p>
<h2 id="转GIF文件"><a href="#转GIF文件" class="headerlink" title="转GIF文件"></a>转GIF文件</h2><p>在Windows下有个不错的软件 <a href="http://pan.baidu.com/s/1eRw3npS" target="_blank" rel="external">Free Video to GIF Converter</a> 可以把mp4转换成GIF。</p>
<p>转换时还可以删除不需要的帧，这点真得很不错。</p>
<p>Mac上可以使用 <a href="http://www.gifrocket.com/" target="_blank" rel="external">gifrocket</a> 进行转换。</p>
<p>还有一些在线的 <a href="http://ezgif.com/video-to-gif" target="_blank" rel="external">转换工具</a> 可以使用，但是都会打上水印。</p>
<h2 id="原文链接"><a href="#原文链接" class="headerlink" title="原文链接"></a>原文链接</h2><ul>
<li><a href="http://www.aswifter.com/2015/07/10/android-record-video-to-gif/?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="external">Android手机如何录制屏幕及转GIF</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/10/android_screen_record/" data-id="cj4zxopoe003jq4nh6njkjqce" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/screen-record/">screen-record</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/4/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/">algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/android/">android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/article/">article</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/coding/">coding</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/framework/">framework</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/humanism/">humanism</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/message-push/">message_push</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/music/">music</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ndk/">ndk</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/note/">note</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/protocol/">protocol</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/reading/">reading</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/springmvc/">springmvc</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/string/">string</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/study/">study</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tools/">tools</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/versioncontroll/">versioncontroll</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/好文/">好文</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/电影/">电影</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AliPay/">AliPay</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Einstein/">Einstein</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GreenDao/">GreenDao</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ORMLite/">ORMLite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WXPay/">WXPay</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/activity/">activity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-studio/">android_studio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-ui/">android_ui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/androidstudio/">androidstudio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/application/">application</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/book/">book</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/broadcast/">broadcast</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bugfix/">bugfix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/chinese-weman/">chinese_weman</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/code-collection/">code_collection</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/context/">context</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/">database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/decomplication/">decomplication</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design-model/">design model</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eclipse/">eclipse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eventbus/">eventbus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/feminism/">feminism</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fullstack/">fullstack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google/">google</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle/">gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/handle/">handle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/handler/">handler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/https/">https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/humanism/">humanism</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iframe/">iframe</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/image/">image</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/imageloader/">imageloader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/intent/">intent</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/intentflag/">intentflag</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iphone/">iphone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jni/">jni</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/listview/">listview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/material-design/">material_design</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/music/">music</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mvp/">mvp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nd/">nd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/notification/">notification</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/obfuscation/">obfuscation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/observer/">observer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/opensource/">opensource</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/otto/">otto</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pageradapter/">pageradapter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pay/">pay</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/placeholder/">placeholder</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/project-build/">project_build</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pulltorefresh/">pulltorefresh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pulltorefreshlistview/">pulltorefreshlistview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/saxophone/">saxophone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/screen-record/">screen-record</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shortkey/">shortkey</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/snack/">snack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/socket/">socket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sort/">sort</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spannable/">spannable</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/speech/">speech</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springmvc/">springmvc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlite/">sqlite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssl/">ssl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sublime/">sublime</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svg/">svg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svn/">svn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/templates/">templates</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/textview/">textview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/">tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/translate/">translate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/viewpager/">viewpager</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/volley/">volley</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/website/">website</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webview/">webview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xpnet/">xpnet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/书单/">书单</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/史玉柱/">史玉柱</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/感悟/">感悟</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电影/">电影</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/贾樟柯/">贾樟柯</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AliPay/" style="font-size: 10px;">AliPay</a> <a href="/tags/Einstein/" style="font-size: 10px;">Einstein</a> <a href="/tags/GreenDao/" style="font-size: 10px;">GreenDao</a> <a href="/tags/ORMLite/" style="font-size: 10px;">ORMLite</a> <a href="/tags/WXPay/" style="font-size: 10px;">WXPay</a> <a href="/tags/activity/" style="font-size: 10px;">activity</a> <a href="/tags/android-studio/" style="font-size: 10px;">android_studio</a> <a href="/tags/android-ui/" style="font-size: 10px;">android_ui</a> <a href="/tags/androidstudio/" style="font-size: 20px;">androidstudio</a> <a href="/tags/animation/" style="font-size: 20px;">animation</a> <a href="/tags/application/" style="font-size: 10px;">application</a> <a href="/tags/book/" style="font-size: 10px;">book</a> <a href="/tags/broadcast/" style="font-size: 10px;">broadcast</a> <a href="/tags/bugfix/" style="font-size: 13.33px;">bugfix</a> <a href="/tags/chinese-weman/" style="font-size: 10px;">chinese_weman</a> <a href="/tags/code-collection/" style="font-size: 10px;">code_collection</a> <a href="/tags/context/" style="font-size: 10px;">context</a> <a href="/tags/database/" style="font-size: 10px;">database</a> <a href="/tags/decomplication/" style="font-size: 10px;">decomplication</a> <a href="/tags/design-model/" style="font-size: 13.33px;">design model</a> <a href="/tags/eclipse/" style="font-size: 10px;">eclipse</a> <a href="/tags/eventbus/" style="font-size: 10px;">eventbus</a> <a href="/tags/feminism/" style="font-size: 10px;">feminism</a> <a href="/tags/fullstack/" style="font-size: 10px;">fullstack</a> <a href="/tags/github/" style="font-size: 13.33px;">github</a> <a href="/tags/google/" style="font-size: 10px;">google</a> <a href="/tags/gradle/" style="font-size: 16.67px;">gradle</a> <a href="/tags/handle/" style="font-size: 10px;">handle</a> <a href="/tags/handler/" style="font-size: 10px;">handler</a> <a href="/tags/hexo/" style="font-size: 16.67px;">hexo</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/https/" style="font-size: 10px;">https</a> <a href="/tags/humanism/" style="font-size: 10px;">humanism</a> <a href="/tags/iframe/" style="font-size: 10px;">iframe</a> <a href="/tags/image/" style="font-size: 10px;">image</a> <a href="/tags/imageloader/" style="font-size: 20px;">imageloader</a> <a href="/tags/intent/" style="font-size: 10px;">intent</a> <a href="/tags/intentflag/" style="font-size: 13.33px;">intentflag</a> <a href="/tags/iphone/" style="font-size: 10px;">iphone</a> <a href="/tags/jni/" style="font-size: 10px;">jni</a> <a href="/tags/listview/" style="font-size: 10px;">listview</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/material-design/" style="font-size: 10px;">material_design</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/music/" style="font-size: 13.33px;">music</a> <a href="/tags/mvp/" style="font-size: 10px;">mvp</a> <a href="/tags/mysql/" style="font-size: 16.67px;">mysql</a> <a href="/tags/nd/" style="font-size: 10px;">nd</a> <a href="/tags/notification/" style="font-size: 10px;">notification</a> <a href="/tags/obfuscation/" style="font-size: 10px;">obfuscation</a> <a href="/tags/observer/" style="font-size: 10px;">observer</a> <a href="/tags/opensource/" style="font-size: 13.33px;">opensource</a> <a href="/tags/otto/" style="font-size: 10px;">otto</a> <a href="/tags/pageradapter/" style="font-size: 10px;">pageradapter</a> <a href="/tags/pay/" style="font-size: 13.33px;">pay</a> <a href="/tags/placeholder/" style="font-size: 10px;">placeholder</a> <a href="/tags/project-build/" style="font-size: 10px;">project_build</a> <a href="/tags/pulltorefresh/" style="font-size: 10px;">pulltorefresh</a> <a href="/tags/pulltorefreshlistview/" style="font-size: 13.33px;">pulltorefreshlistview</a> <a href="/tags/saxophone/" style="font-size: 10px;">saxophone</a> <a href="/tags/screen-record/" style="font-size: 10px;">screen-record</a> <a href="/tags/shortkey/" style="font-size: 10px;">shortkey</a> <a href="/tags/snack/" style="font-size: 10px;">snack</a> <a href="/tags/socket/" style="font-size: 10px;">socket</a> <a href="/tags/sort/" style="font-size: 13.33px;">sort</a> <a href="/tags/spannable/" style="font-size: 10px;">spannable</a> <a href="/tags/speech/" style="font-size: 10px;">speech</a> <a href="/tags/springmvc/" style="font-size: 10px;">springmvc</a> <a href="/tags/sqlite/" style="font-size: 10px;">sqlite</a> <a href="/tags/ssl/" style="font-size: 13.33px;">ssl</a> <a href="/tags/sublime/" style="font-size: 10px;">sublime</a> <a href="/tags/svg/" style="font-size: 13.33px;">svg</a> <a href="/tags/svn/" style="font-size: 13.33px;">svn</a> <a href="/tags/templates/" style="font-size: 10px;">templates</a> <a href="/tags/textview/" style="font-size: 10px;">textview</a> <a href="/tags/tomcat/" style="font-size: 16.67px;">tomcat</a> <a href="/tags/translate/" style="font-size: 10px;">translate</a> <a href="/tags/viewpager/" style="font-size: 13.33px;">viewpager</a> <a href="/tags/volley/" style="font-size: 10px;">volley</a> <a href="/tags/website/" style="font-size: 13.33px;">website</a> <a href="/tags/webview/" style="font-size: 10px;">webview</a> <a href="/tags/xpnet/" style="font-size: 13.33px;">xpnet</a> <a href="/tags/书单/" style="font-size: 10px;">书单</a> <a href="/tags/史玉柱/" style="font-size: 10px;">史玉柱</a> <a href="/tags/感悟/" style="font-size: 10px;">感悟</a> <a href="/tags/电影/" style="font-size: 10px;">电影</a> <a href="/tags/贾樟柯/" style="font-size: 10px;">贾樟柯</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/11/11/study_my_website_collection/">常用网站收集</a>
          </li>
        
          <li>
            <a href="/2016/05/04/web_develop_config/">WEB开发之环境配置</a>
          </li>
        
          <li>
            <a href="/2016/05/04/web_springmvc1/">Spring MVC入门(一)</a>
          </li>
        
          <li>
            <a href="/2016/04/07/android_network_ssl/">为你的Android App实现自签名的SSL证书</a>
          </li>
        
          <li>
            <a href="/2016/03/28/android_notification_push/">Android实现推送方式解决方案</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 ARESXIONG<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>